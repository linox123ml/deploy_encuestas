import{a as _sfc_main$6,_ as _sfc_main$7}from"./OneSelection-b7d2570e.js";import{_ as _sfc_main$4}from"./CheckBoxesFrom-8368916f.js";import{c as computed,E as withDirectives,P as vModelSelect,o as openBlock,a as createElementBlock,F as Fragment,d as renderList,t as toDisplayString,b as createBaseVNode,n as normalizeClass,e as createVNode,r as ref,l as unref,k as createCommentVNode}from"./index-8f60d439.js";import{_ as _sfc_main$5}from"./ButtonPrimary-f542c9fc.js";const _hoisted_1$3=createBaseVNode("option",{selected:"",value:"null"},"Seleccione un opcion",-1),_hoisted_2$1=["value"],_sfc_main$3={__name:"SelectForm",props:{questionIndex:Number,options:Array,modelValue:{type:[String,Number],default:null}},emits:["update:modelValue"],setup(o,{emit:d}){const n=o,a=computed({get:()=>n.modelValue,set:e=>d("update:modelValue",e)});return(e,l)=>withDirectives((openBlock(),createElementBlock("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>a.value=t),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[_hoisted_1$3,(openBlock(!0),createElementBlock(Fragment,null,renderList(o.options,(t,i)=>(openBlock(),createElementBlock("option",{value:t.id},toDisplayString(t.title),9,_hoisted_2$1))),256))],512)),[[vModelSelect,a.value]])}},_hoisted_1$2={class:"grid grid-cols-4"},_sfc_main$2={__name:"MultipleSelection",props:{modelValue:{type:Array,default:[]},question:Object},emits:["update:modelValue"],setup(o,{emit:d}){const n=o,a=computed({get:()=>n.modelValue,set:e=>d("update:modelValue",e)});return(e,l)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("label",{for:"price",class:normalizeClass(["text-sm font-medium leading-6 text-gray-900",o.question.structure.labelGrid])},toDisplayString(o.question.statement),3),createBaseVNode("div",{class:normalizeClass(["relative mt-1 rounded-md",o.question.structure.inputGrid])},[createVNode(_sfc_main$4,{questionIndex:o.question.id,options:o.question.options,modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=t=>a.value=t)},null,8,["questionIndex","options","modelValue"])],2)]))}},_hoisted_1$1={class:"grid grid-cols-4"},_sfc_main$1={__name:"SelectSelection",props:{modelValue:[String,Number],label:String,type:{default:"text",type:String},placeholder:String,question:Object},emits:["update:modelValue"],setup(o,{emit:d}){const n=o,a=computed({get:()=>n.modelValue,set:e=>d("update:modelValue",e)});return(e,l)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("label",{for:"price",class:normalizeClass(["text-sm font-medium leading-6 text-gray-900",o.question.structure.labelGrid])},toDisplayString(o.question.statement),3),createBaseVNode("div",{class:normalizeClass(["relative mt-1 rounded-md",o.question.structure.inputGrid])},[createVNode(_sfc_main$3,{options:o.question.options,modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=t=>a.value=t)},null,8,["options","modelValue"])],2)]))}},surveys=[{id:"00f8bb07-09ee-11ee-9726-00505689a76b",title:"ficha integral del estudiante universitario",description:"",stage:"2023-II",current_topic:"45e2f071-eeaf-4e37-abfa-61cf8151cdcb",current_section:"e699c0fc-d251-4d48-bd1c-f3743ead11bb",completed:!1}],topics=[{id:"1c2b2a8e-5059-4aee-a713-0ac1fa7beeaf",ordinal:2,title:"información socioeconómica",description:""},{id:"45e2f071-eeaf-4e37-abfa-61cf8151cdcb",ordinal:1,title:"información general",description:""},{id:"68e175dd-a6d7-481d-8ba1-aae716918e77",ordinal:3,title:"información para/del servicio médico",description:""},{id:"83390d6e-1f2e-4983-8f12-8c005457e8d4",ordinal:4,title:"información para/de tutoría y servicio psicopedagógico",description:""}],sections=[{id:"e699c0fc-d251-4d48-bd1c-f3743ead11bb",ordinal:1,title:"datos personales",description:""},{id:"bb7af6ef-5574-4d3b-bc86-f2951879b6ea",ordinal:2,title:"datos académicos",description:""}],questions=[{id:"78ae9492-a909-459f-ba53-15165c884d87",ordinal:1,statement:"apellidos y nombres",helpQuestion:"",dependent:0,options:[]},{id:"e8367e12-f088-4188-bed8-50342bac562c",ordinal:2,statement:"documento nacional de identidad",helpQuestion:"",dependent:0,options:[]},{id:"c9175462-8e03-47b1-9450-2f126a1655c2",ordinal:3,statement:"fecha de nacimiento",helpQuestion:"",dependent:0,options:[]},{id:"de9c81d9-87d5-4cf4-b2f0-5274399ff94c",ordinal:4,statement:"edad",helpQuestion:"",dependent:0,options:[]},{id:"a3056caa-84a9-44a0-9ee5-46a59ad3f073",ordinal:5,statement:"género",helpQuestion:"",dependent:0,options:[{id:6,title:"masculino"},{id:7,title:"femenino"}]},{id:"ab123cd2-c64d-44d2-8023-af2849bf6f9d",ordinal:6,statement:"estado civil",helpQuestion:"",dependent:0,options:[{id:1,title:"casado"},{id:2,title:"divorciado"},{id:3,title:"Viudo"},{id:4,title:"Conviviente"},{id:5,title:"Otros"}]},{id:"bd4313bd-1709-4bfd-8fae-bfe2eb6e5d05",ordinal:7,statement:"número celular estudiante",helpQuestion:"",dependent:0,options:[]},{id:"654a124d-93e4-4a1b-84e2-4e189fb4a0dc",ordinal:8,statement:"número celular de un familiar del padre, apoderado y/o familiar cercano",helpQuestion:"",dependent:0,options:[]},{id:"2cb7930e-344f-4371-a2d1-da1579bfe33e",ordinal:9,statement:"correo electrónico personal",helpQuestion:"",dependent:0,options:[]},{id:"16373178-2cb7-4a9e-be10-33d1145fcb48",ordinal:10,statement:"lugar de nacimiento",helpQuestion:"",dependent:0,options:[]},{id:"b37c3cce-8d8a-45e3-90bd-59e0bcb9cccb",ordinal:11,statement:"dirección actual",helpQuestion:"",dependent:0,options:[]},{id:"85c4a938-b006-45a8-bdbd-1c4223656ab6",ordinal:12,statement:"¿presenta alguna discapacidad?",helpQuestion:"",dependent:0,options:[]},{id:"1345c8e1-ac99-4216-81f0-5cbffc7025e5",ordinal:13,statement:"Tipo de discapacidad:",helpQuestion:"",dependent:0,options:[]},{id:"6aec5365-4a8e-42a4-977c-8dc5f1831da0",ordinal:14,statement:"Nivel de gravedad de discapacidad:",helpQuestion:"",dependent:0,options:[]},{id:"4fa928ec-da05-4658-bf7b-a4017e92bb37",ordinal:15,statement:"¿Acreditado por CONADIS?",helpQuestion:"",dependent:0,options:null}],jsonData={surveys,topics,sections,questions},_hoisted_1={class:"grid grid-cols-3 bg-white mx-auto justify-center"},_hoisted_2={class:"col-span-2 rounded-lg bg-blue-50 p-4"},_hoisted_3={key:0},_hoisted_4={class:"w-full text-end"},_hoisted_5={class:"text-xs text-red-600"},_hoisted_6={key:1},_hoisted_7={key:2},_hoisted_8={key:3},_sfc_main={__name:"formComponents",props:{questions:Array},setup(__props){const isValid=ref(!0),sections=jsonData.sections[0],onSelectTrigger=(o,d,n)=>{sections.value[d].questions.map(a=>(a.dependent==n&&(a.optionTrigger==o?a.show=!0:a.show=!1),a))},saveSurvey=()=>{},isChange=ref(!1);computed(()=>(console.log(sections.value),console.log(auxForm),sections.value!=auxForm));const validation=(val,question,indexSection)=>{let validForm=!0;if(!question.structure.validation)return;let rules=question.structure.validation.split("|");rules.length>0&&rules.forEach(rule=>{let valid=eval(`${rule}(val, question, indexSection)`);if(!valid){validForm=!1;return}}),isValid.value=validForm};return(o,d)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(sections),(n,a)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("h3",null,"Seccion: "+toDisplayString(n.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.questions,(e,l)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("ul",null,[e.dependent==null||e.show?(openBlock(),createElementBlock(Fragment,{key:0},[e.structure.code==="RS"?(openBlock(),createElementBlock("li",_hoisted_3,[createBaseVNode("div",null,[createVNode(_sfc_main$6,{question:e,modelValue:e.answer,"onUpdate:modelValue":t=>e.answer=t,onChange:t=>validation(e.answer,e)},null,8,["question","modelValue","onUpdate:modelValue","onChange"]),createBaseVNode("div",_hoisted_4,[createBaseVNode("span",_hoisted_5,toDisplayString(e.error),1)])])])):e.structure.code==="SU"?(openBlock(),createElementBlock("li",_hoisted_6,[createBaseVNode("div",null,[createVNode(_sfc_main$7,{question:e,modelValue:e.answer,"onUpdate:modelValue":[t=>e.answer=t,t=>onSelectTrigger(t,a,l)]},null,8,["question","modelValue","onUpdate:modelValue"])])])):e.structure.code==="SM"?(openBlock(),createElementBlock("li",_hoisted_7,[createBaseVNode("div",null,[createVNode(_sfc_main$2,{question:e,modelValue:e.answer,"onUpdate:modelValue":t=>e.answer=t},null,8,["question","modelValue","onUpdate:modelValue"])])])):e.structure.code==="SD"?(openBlock(),createElementBlock("li",_hoisted_8,[createBaseVNode("div",null,[createVNode(_sfc_main$1,{question:e,modelValue:e.answer,"onUpdate:modelValue":[t=>e.answer=t,t=>onSelectTrigger(t,a)]},null,8,["question","modelValue","onUpdate:modelValue"])])])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)])]))),256))]))),256)),createVNode(_sfc_main$5,{title:"Guardar",onClick:saveSurvey,isDisabled:!isChange.value||!isValid.value},null,8,["isDisabled"])])]))}};export{_sfc_main as default};
