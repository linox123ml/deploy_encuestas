var we=Object.defineProperty;var Se=(t,r,v)=>r in t?we(t,r,{enumerable:!0,configurable:!0,writable:!0,value:v}):t[r]=v;var ee=(t,r,v)=>(Se(t,typeof r!="symbol"?r+"":r,v),v);import{M as ie,d as ae,r as R,b as C,O as D,p as Oe,e as me,B as pe,A as be,F as K,w as ve,f as Ie,n as q,i as Re,o as f,c as S,m as fe,G as $e,Q as ke,a as d,t as T,j as I,g as z,h as M,u as A,q as ne,R as se,x as J,k as Ce,S as xe,I as Pe,y as Ue,V as Ee,W as De,X as ge,Y as Ae,P as te}from"./index-edf75c53.js";import{_ as Te}from"./IndexSurvey-a02d32a5.js";import{d as je,e as Fe,_ as Ne,r as Be,b as Le,a as de}from"./HSelect-47b2298a.js";import{u as G,o as j,F as ze,c as Me,l as re,K as Ke,H as le,f as ye,t as ce,N as ue,p as He,O as Ge,a as L}from"./use-outside-click-7091f03f.js";import{x as Xe,a as F,b as Ye,u as qe}from"./use-text-value-d34f0839.js";import{p as Ze}from"./use-tree-walker-98465e7d.js";import{f as Je,a as Qe,_ as Z}from"./InputForm-5311ed57.js";import{r as We,n as et,S as tt}from"./transition-683ed09b.js";class Ve{constructor(){ee(this,"getDepartamentos",async()=>(await ie.get("http://38.43.133.27/SURVEY_PLACES/v1/departments/")).data.data);ee(this,"getProvincias",async r=>(await ie.get(`http://38.43.133.27/SURVEY_PLACES/v1/provinces/${r}/`)).data.data);ee(this,"getDistritos",async r=>(await ie.get(`http://38.43.133.27/SURVEY_PLACES/v1/districts/${r}/`)).data.data);ee(this,"getUbigeo",async r=>{try{return(await ie.get(`http://38.43.133.27/SURVEY_PLACES/v1/${r}/`)).data.data[0]}catch{return null}})}}function at(t,r){return t===r}var lt=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(lt||{}),ot=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(ot||{}),it=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(it||{});let he=Symbol("ComboboxContext");function oe(t){let r=Re(he,null);if(r===null){let v=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,oe),v}return r}let nt=ae({name:"Combobox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>at},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:r,attrs:v,emit:m}){let l=R(1),a=R(null),u=R(null),p=R(null),n=R(null),c=R({static:!1,hold:!1}),V=R([]),x=R(null),U=R(1),E=R(!1);function s(b=w=>w){let w=x.value!==null?V.value[x.value]:null,$=Ge(b(V.value.slice()),P=>j(P.dataRef.domRef)),_=w?$.indexOf(w):null;return _===-1&&(_=null),{options:$,activeOptionIndex:_}}let i=C(()=>t.multiple?1:0),e=C(()=>t.nullable),[h,O]=je(C(()=>t.modelValue===void 0?G(i.value,{[1]:[],[0]:void 0}):t.modelValue),b=>m("update:modelValue",b),C(()=>t.defaultValue)),y={comboboxState:l,value:h,mode:i,compare(b,w){if(typeof t.by=="string"){let $=t.by;return(b==null?void 0:b[$])===(w==null?void 0:w[$])}return t.by(b,w)},defaultValue:C(()=>t.defaultValue),nullable:e,inputRef:u,labelRef:a,buttonRef:p,optionsRef:n,disabled:C(()=>t.disabled),options:V,change(b){O(b)},activeOptionIndex:C(()=>{if(E.value&&x.value===null&&V.value.length>0){let b=V.value.findIndex(w=>!w.dataRef.disabled);b!==-1&&(x.value=b)}return x.value}),activationTrigger:U,optionsPropsRef:c,closeCombobox(){E.value=!1,!t.disabled&&l.value!==1&&(l.value=1,x.value=null)},openCombobox(){if(E.value=!0,t.disabled||l.value===0)return;let b=V.value.findIndex(w=>{let $=D(w.dataRef.value);return G(i.value,{[0]:()=>y.compare(D(y.value.value),D($)),[1]:()=>D(y.value.value).some(_=>y.compare(D(_),D($)))})});b!==-1&&(x.value=b),l.value=0},goToOption(b,w,$){if(E.value=!1,t.disabled||n.value&&!c.value.static&&l.value===1)return;let _=s();if(_.activeOptionIndex===null){let g=_.options.findIndex(k=>!k.dataRef.disabled);g!==-1&&(_.activeOptionIndex=g)}let P=Xe(b===F.Specific?{focus:F.Specific,id:w}:{focus:b},{resolveItems:()=>_.options,resolveActiveIndex:()=>_.activeOptionIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.disabled});x.value=P,U.value=$??1,V.value=_.options},selectOption(b){let w=V.value.find(_=>_.id===b);if(!w)return;let{dataRef:$}=w;O(G(i.value,{[0]:()=>$.value,[1]:()=>{let _=D(y.value.value).slice(),P=D($.value),g=_.findIndex(k=>y.compare(P,D(k)));return g===-1?_.push(P):_.splice(g,1),_}}))},selectActiveOption(){if(y.activeOptionIndex.value===null)return;let{dataRef:b,id:w}=V.value[y.activeOptionIndex.value];O(G(i.value,{[0]:()=>b.value,[1]:()=>{let $=D(y.value.value).slice(),_=D(b.value),P=$.findIndex(g=>y.compare(_,D(g)));return P===-1?$.push(_):$.splice(P,1),$}})),y.goToOption(F.Specific,w)},registerOption(b,w){let $={id:b,dataRef:w},_=s(P=>[...P,$]);if(x.value===null){let P=w.value.value;G(i.value,{[0]:()=>y.compare(D(y.value.value),D(P)),[1]:()=>D(y.value.value).some(g=>y.compare(D(g),D(P)))})&&(_.activeOptionIndex=_.options.indexOf($))}V.value=_.options,x.value=_.activeOptionIndex,U.value=1,_.options.some(P=>!j(P.dataRef.domRef))&&requestAnimationFrame(()=>{let P=s();V.value=P.options,x.value=P.activeOptionIndex})},unregisterOption(b){var w;y.activeOptionIndex.value!==null&&((w=y.options.value[y.activeOptionIndex.value])==null?void 0:w.id)===b&&(E.value=!0);let $=s(_=>{let P=_.findIndex(g=>g.id===b);return P!==-1&&_.splice(P,1),_});V.value=$.options,x.value=$.activeOptionIndex,U.value=1}};ze([u,p,n],()=>y.closeCombobox(),C(()=>l.value===0)),Oe(he,y),Me(C(()=>G(l.value,{[0]:re.Open,[1]:re.Closed})));let o=C(()=>y.activeOptionIndex.value===null?null:V.value[y.activeOptionIndex.value].dataRef.value),N=C(()=>{var b;return(b=j(u))==null?void 0:b.closest("form")});return me(()=>{pe([N],()=>{if(!N.value||t.defaultValue===void 0)return;function b(){y.change(t.defaultValue)}return N.value.addEventListener("reset",b),()=>{var w;(w=N.value)==null||w.removeEventListener("reset",b)}},{immediate:!0})}),()=>{let{name:b,disabled:w,form:$,..._}=t,P={open:l.value===0,disabled:w,activeIndex:y.activeOptionIndex.value,activeOption:o.value,value:h.value};return be(K,[...b!=null&&h.value!=null?Fe({[b]:h.value}).map(([g,k])=>be(Je,Ke({features:Qe.Hidden,key:g,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:$,name:g,value:k}))):[],le({theirProps:{...v,...ye(_,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:P,slots:r,attrs:v,name:"Combobox"})])}}}),st=ae({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${ce()}`}},setup(t,{attrs:r,slots:v,expose:m}){let l=oe("ComboboxButton");m({el:l.buttonRef,$el:l.buttonRef});function a(n){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(n.preventDefault(),l.openCombobox()),q(()=>{var c;return(c=j(l.inputRef))==null?void 0:c.focus({preventScroll:!0})}))}function u(n){switch(n.key){case L.ArrowDown:n.preventDefault(),n.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),q(()=>{var c;return(c=l.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case L.ArrowUp:n.preventDefault(),n.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),q(()=>{l.value.value||l.goToOption(F.Last)})),q(()=>{var c;return(c=l.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case L.Escape:if(l.comboboxState.value!==0)return;n.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&n.stopPropagation(),l.closeCombobox(),q(()=>{var c;return(c=l.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return}}let p=Ye(C(()=>({as:t.as,type:r.type})),l.buttonRef);return()=>{var n,c;let V={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{id:x,...U}=t,E={ref:l.buttonRef,id:x,type:p.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(n=j(l.optionsRef))==null?void 0:n.id,"aria-expanded":l.disabled.value?void 0:l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(c=j(l.labelRef))==null?void 0:c.id,x].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:u,onClick:a};return le({ourProps:E,theirProps:U,slot:V,attrs:r,slots:v,name:"ComboboxButton"})}}}),rt=ae({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${ce()}`}},emits:{change:t=>!0},setup(t,{emit:r,attrs:v,slots:m,expose:l}){let a=oe("ComboboxInput"),u={value:!1};l({el:a.inputRef,$el:a.inputRef});let p=C(()=>{var e;let h=a.value.value;return j(a.inputRef)?typeof t.displayValue<"u"&&h!==void 0?(e=t.displayValue(h))!=null?e:"":typeof h=="string"?h:"":""});me(()=>{pe([p,a.comboboxState],([e,h],[O,y])=>{if(u.value)return;let o=j(a.inputRef);o&&(y===0&&h===1||e!==O)&&(o.value=e)},{immediate:!0}),pe([a.comboboxState],([e],[h])=>{if(e===0&&h===1){let O=j(a.inputRef);if(!O)return;let y=O.value,{selectionStart:o,selectionEnd:N,selectionDirection:b}=O;O.value="",O.value=y,b!==null?O.setSelectionRange(o,N,b):O.setSelectionRange(o,N)}})});let n=R(!1),c=R(null);function V(){n.value=!0}function x(){We().nextFrame(()=>{n.value=!1,c.value&&(a.openCombobox(),r("change",c.value),c.value=null)})}function U(e){switch(u.value=!0,e.key){case L.Backspace:case L.Delete:if(a.mode.value!==0||!a.nullable.value)return;let h=e.currentTarget;requestAnimationFrame(()=>{if(h.value===""){a.change(null);let O=j(a.optionsRef);O&&(O.scrollTop=0),a.goToOption(F.Nothing)}});break;case L.Enter:if(u.value=!1,a.comboboxState.value!==0||n.value)return;if(e.preventDefault(),e.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case L.ArrowDown:return u.value=!1,e.preventDefault(),e.stopPropagation(),G(a.comboboxState.value,{[0]:()=>a.goToOption(F.Next),[1]:()=>a.openCombobox()});case L.ArrowUp:return u.value=!1,e.preventDefault(),e.stopPropagation(),G(a.comboboxState.value,{[0]:()=>a.goToOption(F.Previous),[1]:()=>{a.openCombobox(),q(()=>{a.value.value||a.goToOption(F.Last)})}});case L.Home:if(e.shiftKey)break;return u.value=!1,e.preventDefault(),e.stopPropagation(),a.goToOption(F.First);case L.PageUp:return u.value=!1,e.preventDefault(),e.stopPropagation(),a.goToOption(F.First);case L.End:if(e.shiftKey)break;return u.value=!1,e.preventDefault(),e.stopPropagation(),a.goToOption(F.Last);case L.PageDown:return u.value=!1,e.preventDefault(),e.stopPropagation(),a.goToOption(F.Last);case L.Escape:if(u.value=!1,a.comboboxState.value!==0)return;e.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&e.stopPropagation(),a.closeCombobox();break;case L.Tab:if(u.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.selectActiveOption(),a.closeCombobox();break}}function E(e){if(n.value){c.value=e;return}a.openCombobox(),r("change",e)}function s(){u.value=!1}let i=C(()=>{var e,h,O,y;return(y=(O=(h=t.defaultValue)!=null?h:a.defaultValue.value!==void 0?(e=t.displayValue)==null?void 0:e.call(t,a.defaultValue.value):null)!=null?O:a.defaultValue.value)!=null?y:""});return()=>{var e,h,O,y,o,N;let b={open:a.comboboxState.value===0},{id:w,displayValue:$,onChange:_,...P}=t,g={"aria-controls":(e=a.optionsRef.value)==null?void 0:e.id,"aria-expanded":a.disabled.value?void 0:a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null||(h=a.options.value[a.activeOptionIndex.value])==null?void 0:h.id,"aria-labelledby":(o=(O=j(a.labelRef))==null?void 0:O.id)!=null?o:(y=j(a.buttonRef))==null?void 0:y.id,"aria-autocomplete":"list",id:w,onCompositionstart:V,onCompositionend:x,onKeydown:U,onInput:E,onBlur:s,role:"combobox",type:(N=v.type)!=null?N:"text",tabIndex:0,ref:a.inputRef,defaultValue:i.value,disabled:a.disabled.value===!0?!0:void 0};return le({ourProps:g,theirProps:P,slot:b,attrs:v,slots:m,features:ue.RenderStrategy|ue.Static,name:"ComboboxInput"})}}}),ut=ae({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(t,{attrs:r,slots:v,expose:m}){let l=oe("ComboboxOptions"),a=`headlessui-combobox-options-${ce()}`;m({el:l.optionsRef,$el:l.optionsRef}),ve(()=>{l.optionsPropsRef.value.static=t.static}),ve(()=>{l.optionsPropsRef.value.hold=t.hold});let u=He(),p=C(()=>u!==null?(u.value&re.Open)===re.Open:l.comboboxState.value===0);return Ze({container:C(()=>j(l.optionsRef)),enabled:C(()=>l.comboboxState.value===0),accept(n){return n.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:n.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute("role","none")}}),()=>{var n,c,V;let x={open:l.comboboxState.value===0},U={"aria-labelledby":(V=(n=j(l.labelRef))==null?void 0:n.id)!=null?V:(c=j(l.buttonRef))==null?void 0:c.id,id:a,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0},E=ye(t,["hold"]);return le({ourProps:U,theirProps:E,slot:x,attrs:r,slots:v,features:ue.RenderStrategy|ue.Static,visible:p.value,name:"ComboboxOptions"})}}}),dt=ae({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:r,attrs:v,expose:m}){let l=oe("ComboboxOption"),a=`headlessui-combobox-option-${ce()}`,u=R(null);m({el:u,$el:u});let p=C(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===a:!1),n=C(()=>G(l.mode.value,{[0]:()=>l.compare(D(l.value.value),D(t.value)),[1]:()=>D(l.value.value).some(e=>l.compare(D(e),D(t.value)))})),c=C(()=>({disabled:t.disabled,value:t.value,domRef:u}));me(()=>l.registerOption(a,c)),Ie(()=>l.unregisterOption(a)),ve(()=>{l.comboboxState.value===0&&p.value&&l.activationTrigger.value!==0&&q(()=>{var e,h;return(h=(e=j(u))==null?void 0:e.scrollIntoView)==null?void 0:h.call(e,{block:"nearest"})})});function V(e){if(t.disabled)return e.preventDefault();l.selectOption(a),l.mode.value===0&&l.closeCombobox(),et()||requestAnimationFrame(()=>{var h;return(h=j(l.inputRef))==null?void 0:h.focus()})}function x(){if(t.disabled)return l.goToOption(F.Nothing);l.goToOption(F.Specific,a)}let U=qe();function E(e){U.update(e)}function s(e){U.wasMoved(e)&&(t.disabled||p.value||l.goToOption(F.Specific,a,0))}function i(e){U.wasMoved(e)&&(t.disabled||p.value&&(l.optionsPropsRef.value.hold||l.goToOption(F.Nothing)))}return()=>{let{disabled:e}=t,h={active:p.value,selected:n.value,disabled:e},O={id:a,ref:u,role:"option",tabIndex:e===!0?void 0:-1,"aria-disabled":e===!0?!0:void 0,"aria-selected":n.value,disabled:void 0,onClick:V,onFocus:x,onPointerenter:E,onMouseenter:E,onPointermove:s,onMousemove:s,onPointerleave:i,onMouseleave:i};return le({ourProps:O,theirProps:t,slot:h,attrs:v,slots:r,name:"ComboboxOption"})}}});const Q=t=>!(t===""||t===null),ct=t=>{let r=/^[0-9]+$/;return!!t.match(r)},pt=(t,r)=>t.length<=r,vt=t=>{let r=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return!!t.match(r)},mt=["id","value","name"],ft=["for"],_e={__name:"RadioGroupForm",props:{questionId:String,options:Array,modelValue:{type:[Number,Object,String,Array],default:null}},emits:["update:modelValue"],setup(t,{emit:r}){const v=t,m=C({get:()=>v.modelValue,set:l=>r("update:modelValue",l)});return(l,a)=>(f(!0),S(K,null,fe(t.options,(u,p)=>(f(),S("div",{key:u.title,class:"flex items-center my-3"},[$e(d("input",{id:`radio-${p}${t.questionId}`,type:"radio",value:u.id,"onUpdate:modelValue":a[0]||(a[0]=n=>m.value=n),name:`name-${p}${t.questionId}`,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,mt),[[ke,m.value]]),d("label",{for:`radio-${p}${t.questionId}`,class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},T(u.title),9,ft)]))),128))}},bt={class:"grid grid-cols-4"},gt={for:"price",class:"col-span-4 text-sm font-medium leading-6 text-gray-900 capitalize"},xt={class:"relative col-span-4 mt-1 rounded-md ms-4"},yt={class:"col-span-4 text-end"},Vt={class:"text-xs text-red-600"},ht={__name:"OneSelection",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object},emits:["update:modelValue"],setup(t,{emit:r}){const v=t,m=C({get:()=>v.modelValue,set:l=>r("update:modelValue",l)});return(l,a)=>{var u;return f(),S("div",bt,[d("label",gt,T(t.question.statement),1),d("div",xt,[I(_e,{questionId:t.question.id,options:t.question.options,modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=p=>m.value=p)},null,8,["questionId","options","modelValue"])]),d("div",yt,[d("span",Vt,T((u=t.question.error)==null?void 0:u.text),1)])])}}},_t={class:"grid grid-cols-4"},wt={for:"price",class:"col-span-4 text-sm font-medium leading-6 text-gray-900"},St={class:"relative mt-1 rounded-md col-span-4 ps-4"},Ot={class:"col-span-4 text-end"},It={class:"text-xs text-red-600"},Rt={__name:"MultipleSelection",props:{modelValue:{type:[Array,String]},question:Object},emits:["update:modelValue"],setup(t,{emit:r}){const v=t,m=C({get:()=>{var l;return Array.isArray(v.modelValue)?v.modelValue:(l=v.modelValue)==null?void 0:l.split(",")},set:l=>r("update:modelValue",l)});return(l,a)=>{var u;return f(),S("div",_t,[d("label",wt,T(t.question.statement),1),d("div",St,[I(Ne,{questionIndex:t.question.id,options:t.question.options,modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=p=>m.value=p)},null,8,["questionIndex","options","modelValue"])]),d("div",Ot,[d("span",It,T((u=t.question.error)==null?void 0:u.text),1)])])}}},$t={class:"relative mt-1"},kt={class:"block text-sm font-medium leading-6 text-gray-900"},Ct={class:"relative w-full cursor-default overflow-hidden sm:text-sm"},Pt={key:0,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},W={__name:"HAutoComplete",props:{itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"title"},modelValue:{type:[String,Number,Object],default:null},items:{type:Array,required:!0},label:{type:String},error:{type:Boolean,default:!1},placeholder:{type:String}},emits:["update:modelValue"],setup(t,{emit:r}){const v=t,m=C({get:()=>v.modelValue,set:p=>r("update:modelValue",p)});let l=R(""),a=R(!1),u=C(()=>l.value===""?[]:v.items.filter(p=>p[`${v.itemTitle}`].toLowerCase().replace(/\s+/g,"").includes(l.value.toLowerCase().replace(/\s+/g,""))));return(p,n)=>(f(),z(A(nt),{modelValue:m.value,"onUpdate:modelValue":n[2]||(n[2]=c=>m.value=c)},{default:M(()=>[d("div",$t,[d("label",kt,T(t.label),1),d("div",Ct,[I(A(rt),{class:ne([t.error&&A(a)&&!m.value?"ring-red-600":"ring-gray-300","w-full bg-gray-50 border-gray-300 border-none p-2.5 text-sm leading-5 text-gray-900 ring-1 ring-inset placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 rounded-md"]),displayValue:c=>c==null?void 0:c[`${t.itemTitle}`],onChange:n[0]||(n[0]=c=>{c.target.value==""?se(a)?a.value=!0:a=!0:se(a)?a.value=!1:a=!1,se(l)?l.value=c.target.value:l=c.target.value}),placeholder:t.placeholder},null,8,["class","displayValue","placeholder"]),I(A(st),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:M(()=>[I(A(Be),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),I(A(tt),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:n[1]||(n[1]=c=>se(l)?l.value="":l="")},{default:M(()=>[I(A(ut),{class:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:M(()=>[A(u).length===0&&A(l)!==""?(f(),S("div",Pt," Sin datos ")):J("",!0),(f(!0),S(K,null,fe(A(u),c=>(f(),z(A(dt),{as:"template",key:c[`${t.itemValue}`],value:c},{default:M(({selected:V,active:x})=>[d("li",{class:ne(["relative cursor-default select-none py-2 pl-10 pr-4",{"bg-teal-600 text-white":x,"text-gray-900":!x}])},[d("span",{class:ne(["block truncate",{"font-medium":V,"font-normal":!V}])},T(c[`${t.itemTitle}`]),3),V?(f(),S("span",{key:0,class:ne(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":x,"text-teal-600":!x}])},[I(A(Le),{class:"h-5 w-5","aria-hidden":"true"})],2)):J("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}},Ut={class:"block text-sm font-medium leading-6 text-gray-900 capitalize"},Et={class:"grid grid-cols-3 gap-x-5"},Dt={class:"col-span-3"},At={__name:"UbigeoOtherForm",props:{modelValue:[Number,Object,String,Array],question:[Object,Array],error:{type:Boolean,default:!1}},emits:["update:modelValue","clickInput"],setup(t,{emit:r}){const v=t,m=new Ve,l=C({get:()=>v.modelValue,set:s=>r("update:modelValue",s)}),a=R([]),u=R([]),p=R([]),n=R({departamento:null,provincia:null,distrito:null}),c=async s=>{n.value.provincia=null,u.value=[],n.value.distrito=null,p.value=[],u.value=await m.getProvincias(s.code),r("update:modelValue",null)},V=async s=>{r("update:modelValue",null),p.value=[],n.value.distrito=null,p.value=await m.getDistritos(s.code)},x=async s=>{let i=await m.getUbigeo(s[0]);n.value.departamento={code:i.idDepartment,title:i.department},n.value.provincia={code:i.idProvince,title:i.province},n.value.distrito={code:i.idDistrict,title:i.district},v.question.other=s[1]},U=async()=>{a.value.length==0&&(a.value=await m.getDepartamentos())};return(async()=>{let s=l.value;s&&(s=s.split("%%%",2),await x(s))})(),(s,i)=>(f(),S(K,null,[d("label",Ut,T(t.question.statement),1),d("div",Et,[d("div",null,[I(W,{placeholder:"Departamento",error:t.error,items:a.value,onMouseup:U,itemValue:"code",modelValue:n.value.departamento,"onUpdate:modelValue":[i[0]||(i[0]=e=>n.value.departamento=e),c]},null,8,["error","items","modelValue"])]),d("div",null,[I(W,{error:t.error,items:u.value,itemValue:"code",placeholder:"Provincia",modelValue:n.value.provincia,"onUpdate:modelValue":[i[1]||(i[1]=e=>n.value.provincia=e),V]},null,8,["error","items","modelValue"])]),d("div",null,[I(W,{error:t.error,items:p.value,itemValue:"code",placeholder:"Distrito",modelValue:n.value.distrito,"onUpdate:modelValue":[i[2]||(i[2]=e=>n.value.distrito=e),i[3]||(i[3]=e=>l.value=e.code)]},null,8,["error","items","modelValue"])]),d("div",Dt,[I(Z,{modelValue:t.question.other,"onUpdate:modelValue":i[4]||(i[4]=e=>t.question.other=e),label:"Dirección"},null,8,["modelValue"])])])],64))}},Tt={class:"block text-sm font-medium leading-6 text-gray-900 capitalize"},jt={class:"grid grid-cols-3 gap-5"},Ft={__name:"UbigeoForm",props:{modelValue:[String,Number,Object,Array],question:[Object,Array],error:{type:Boolean,default:!1}},emits:["update:modelValue","clickInput"],setup(t,{emit:r}){const v=t,m=new Ve,l=C({get:()=>v.modelValue,set:s=>r("update:modelValue",s)}),a=R([]),u=R([]),p=R([]),n=R({departamento:null,provincia:null,distrito:null}),c=async s=>{n.value.provincia=null,u.value=[],n.value.distrito=null,p.value=[],u.value=await m.getProvincias(s.code),r("update:modelValue",null)},V=async s=>{r("update:modelValue",null),p.value=[],n.value.distrito=null,p.value=await m.getDistritos(s.code)},x=async()=>{a.value=await m.getDepartamentos()},U=async s=>{let i=await m.getUbigeo(s);n.value.departamento={code:i.idDepartment,title:i.department},n.value.provincia={code:i.idProvince,title:i.province},n.value.distrito={code:i.idDistrict,title:i.district}};return(async()=>{l.value&&await U(l.value)})(),(s,i)=>(f(),S(K,null,[d("label",Tt,T(t.question.statement),1),d("div",jt,[d("div",null,[I(W,{placeholder:"Departamento",error:t.error,items:a.value,onMouseup:x,itemValue:"code",modelValue:n.value.departamento,"onUpdate:modelValue":[i[0]||(i[0]=e=>n.value.departamento=e),c]},null,8,["error","items","modelValue"])]),d("div",null,[I(W,{error:t.error,items:u.value,itemValue:"code",placeholder:"Provincia",modelValue:n.value.provincia,"onUpdate:modelValue":[i[1]||(i[1]=e=>n.value.provincia=e),V]},null,8,["error","items","modelValue"])]),d("div",null,[I(W,{error:t.error,items:p.value,itemValue:"code",placeholder:"Distrito",modelValue:n.value.distrito,"onUpdate:modelValue":[i[2]||(i[2]=e=>n.value.distrito=e),i[3]||(i[3]=e=>l.value=e.code)]},null,8,["error","items","modelValue"])])])],64))}},Nt={__name:"StudyCycleForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object},emits:["update:modelValue"],setup(t,{emit:r}){const v=t,m=C({get:()=>v.modelValue,set:a=>r("update:modelValue",a)}),l=[{id:1,title:"Semestre I"},{id:2,title:"Semestre II    "},{id:3,title:"Semestre III"},{id:4,title:"Semestre IV"},{id:5,title:"Semestre V"},{id:6,title:"Semestre VI"},{id:7,title:"Semestre VII"},{id:8,title:"Semestre VIII"},{id:9,title:"Semestre IX"},{id:10,title:"Semestre X"},{id:11,title:"Semestre XI"},{id:12,title:"Semestre XII"}];return(a,u)=>(f(),z(de,{modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=p=>m.value=p),label:t.question.statement,error:t.question.error,options:l},null,8,["modelValue","label","error"]))}},Bt=[{id:"001",title:"trabajo social"},{id:"003",title:"medicina veterinaria y zootecnía"},{id:"004",title:"medicina humana"},{id:"005",title:"ingeniería química"},{id:"006",title:"ingeniería mecánica, eléctrica, electrónica y sistemas"},{id:"007",title:"ingeniería geológica y metalúrgica"},{id:"008",title:"ingeniería estadística e informática"},{id:"009",title:"ingeniería económica"},{id:"010",title:"ingeniería de minas"},{id:"011",title:"ingeniería civil y arquitectura"},{id:"012",title:"ingeniería agrícola"},{id:"013",title:"ciencias sociales"},{id:"014",title:"enfermería"},{id:"015",title:"ciencias jurídicas y políticas"},{id:"016",title:"ciencias de la salud"},{id:"017",title:"ciencias de la educación"},{id:"018",title:"ciencias contables y administrativas"},{id:"019",title:"ciencias biológicas"},{id:"020",title:"ciencias agrarias"}],Lt={__name:"FacuForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object},emits:["update:modelValue"],setup(t,{emit:r}){const v=t,m=C({get:()=>v.modelValue,set:l=>r("update:modelValue",l)});return(l,a)=>(f(),z(de,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=u=>m.value=u),label:t.question.statement,error:t.question.error,options:A(Bt)},null,8,["modelValue","label","error","options"]))}},zt=[{id:"001",title:"administración"},{id:"002",title:"antropología"},{id:"003",title:"arquitectura y urbanismo"},{id:"004",title:"arte: artes plásticas"},{id:"005",title:"arte: danza"},{id:"006",title:"arte: música"},{id:"007",title:"arte: teatro"},{id:"008",title:"biología: ecología"},{id:"009",title:"biología: microbiología y laboratorio clínico"},{id:"010",title:"biología: pesquería"},{id:"011",title:"ciencias contables"},{id:"012",title:"ciencias de la comunicación social"},{id:"013",title:"ciencias físico matemáticas: física"},{id:"014",title:"ciencias físico matemáticas: matemáticas"},{id:"015",title:"derecho"},{id:"034",title:"educación física"},{id:"035",title:"educación inicial"},{id:"036",title:"educación primaria"},{id:"037",title:"educación secundaria de la especialidad de ciencia, tecnología y ambiente"},{id:"038",title:"educación secundaria de la especialidad de ciencias sociales"},{id:"039",title:"educación secundaria de la especialidad de lengua, literatura, psicología y filosofía"},{id:"040",title:"educación secundaria de la especialidad de matemática, física, computación e informática"},{id:"041",title:"enfermería"},{id:"042",title:"ingeniería agrícola"},{id:"043",title:"ingeniería agroindustrial"},{id:"044",title:"ingeniería agronómica"},{id:"045",title:"ingeniería civil"},{id:"046",title:"ingeniería de minas"},{id:"047",title:"ingeniería de sistemas"},{id:"048",title:"ingeniería económica"},{id:"049",title:"ingeniería electrónica"},{id:"050",title:"ingeniería estadística e informática"},{id:"051",title:"ingeniería geológica"},{id:"052",title:"ingeniería mecánica eléctrica"},{id:"053",title:"ingeniería metalúrgica"},{id:"054",title:"ingeniería química"},{id:"055",title:"ingeniería topográfica y agrimensura"},{id:"169",title:"medicina humana"},{id:"170",title:"medicina veterinaria y zootecnía"},{id:"171",title:"nutrición humana"},{id:"172",title:"odontología"},{id:"231",title:"sociología"},{id:"232",title:"trabajo social"},{id:"233",title:"turismo"}],Mt={__name:"ProStudyForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object},emits:["update:modelValue"],setup(t,{emit:r}){const v=t,m=C({get:()=>v.modelValue,set:l=>r("update:modelValue",l)});return(l,a)=>(f(),z(de,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=u=>m.value=u),label:t.question.statement,error:t.question.error,options:A(zt)},null,8,["modelValue","label","error","options"]))}},Kt={class:"grid grid-cols-4"},Ht={for:"price",class:"col-span-4 text-sm font-medium leading-6 text-gray-900 capitalize"},Gt={class:"relative col-span-4 mt-1 rounded-md ms-4"},Xt={class:"col-span-3"},Yt={class:"col-span-4 text-end"},qt={class:"text-xs text-red-600"},Zt={__name:"OneSelectionOtherForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object},emits:["update:modelValue"],setup(t,{emit:r}){const v=t,m=C({get:()=>v.modelValue,set:l=>r("update:modelValue",l)});return(l,a)=>{var u;return f(),S("div",Kt,[d("label",Ht,T(t.question.statement),1),d("div",Gt,[I(_e,{questionId:t.question.id,options:t.question.options,modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=p=>m.value=p)},null,8,["questionId","options","modelValue"])]),d("div",Xt,[I(Z,{modelValue:t.question.answer.text,"onUpdate:modelValue":a[1]||(a[1]=p=>t.question.answer.text=p),label:"Especifique"},null,8,["modelValue"])]),d("div",Yt,[d("span",qt,T((u=t.question.error)==null?void 0:u.text),1)])])}}},Jt={class:"grid grid-cols-2 mt-4 bg-white mx-auto justify-center"},Qt={class:"col-span-2 rounded-lg"},Wt={key:0,class:"mb-4"},ea={key:1,class:"mb-4"},ta={key:2,class:"mb-4"},aa={key:3,class:"mb-4"},la={key:4,class:"mb-4"},oa={key:5,class:"mb-4"},ia={key:6,class:"mb-4"},na={key:7,class:"mb-4"},sa={key:8,class:"mb-4"},ra={key:9,class:"mb-4"},ua={key:10,class:"mb-4"},da={key:11,class:"mb-4"},ca={key:12,class:"mb-4"},pa={class:"w-full text-end"},va={class:"text-xs text-red-600"},ma={key:13,class:"mb-4"},fa={class:"w-full text-end"},ba={class:"text-xs text-red-600"},ga={class:"flex justify-end mt-4"},xa={__name:"Form",props:{questions:Array,section:Object},emits:["onSuccess","onFaild"],setup(t,{emit:r}){const v=t,m=new xe,l=C(()=>v.questions),a=R(!0),u=s=>{l.value.map(i=>(i.isDependent==s.id&&(i.optionTrigger===s.answer.options?i.show=!0:i.show=!1),i))},p=(s,i,e=!1)=>{e&&u(i),i.isRequired==="true"&&n(s,i)},n=(s,i)=>{l.value.map(e=>{e.id===i.id&&(Q(s)?i.isRequired==="false"&&!Q(s)?(e.error={isError:!1,text:null},a.value=!0):(e.error={isError:!1,text:null},a.value=!0):(e.error={isError:!0,text:"Obligatorio"},a.value=!1))})},c=(s,i)=>{l.value.map(e=>{e.id==i.id&&(i.isRequired==="true"&&!Q(s)?(e.error={isError:!0,text:"Obligatorio"},a.value=!1):i.isRequired==="false"&&!Q(s)?(e.error={isError:!1,text:null},a.value=!0):vt(s)?(e.error={isError:!1,text:null},a.value=!0):(e.error={isError:!0,text:"Formato no valido"},a.value=!1))})},V=(s,i)=>{l.value.map(e=>{e.id==i.id&&(Q(s)?ct(s)?i.isRequired==="false"&&!Q(s)?(e.error={isError:!1,text:null},a.value=!0):pt(s,9)?(e.error={isError:!1,text:null},a.value=!0):(e.error={isError:!0,text:"Longitud debe se 9 digitos"},a.value=!1):(e.error={isError:!0,text:"Solo se permite numeros"},a.value=!1):(e.error={isError:!0,text:"Obligatorio"},a.value=!1))})},x=()=>{let s={section_:v.section.id,answers_:[]};const i=[1,2,3,5,8,9,10,20,50],e=[0,4],h=[6],O=[11],y=[30];return l.value.forEach(o=>{var N;if(!o.isDependent||o.show)if(i.includes(o.type))s.answers_.push({qst_:o.id,opts_:null,txt_:o.answer.text});else if(e.includes(o.type))s.answers_.push({qst_:o.id,opts_:[o.answer.options],txt_:null});else if(h.includes(o.type))s.answers_.push({qst_:o.id,opts_:Array.isArray(o.answer.options)?o.answer.options:(N=o.answer.options)==null?void 0:N.split(","),txt_:null});else if(O.includes(o.type)){let b=o.answer.text.split("%%%",2);s.answers_.push({qst_:o.id,opts_:null,txt_:b[0]+"%%%"+o.other})}else y.includes(o.type)&&s.answers_.push({qst_:o.id,opts_:[o.answer.options],txt_:o.answer.text})}),s},U=()=>{var s=0;return l.value.forEach(i=>{var e,h;!((e=i.answer)!=null&&e.options)&&!((h=i.answer)!=null&&h.text)&&i.isRequired==="true"&&(!i.isDependent||i.show)?(i.error={isError:!0,text:"Obligatorio"},s++):i.error={isError:!1,text:null}}),!(s>0)},E=async()=>{console.log(U());let s=U();if(console.log("valid",s),s){let i=x();console.log(x());let e=await m.saveSection(i);return r("onSuccess"),console.log("Guardando ..."),e}return console.error("Error ..."),r("onFaild"),!1};return(s,i)=>(f(),S("div",Jt,[d("div",Qt,[(f(!0),S(K,null,fe(l.value,(e,h)=>{var O,y;return f(),S("div",{key:e.id},[d("ul",null,[!e.isDependent||e.show?(f(),S(K,{key:0},[e.type===0?(f(),S("li",Wt,[I(ht,{question:e,modelValue:e.answer.options,"onUpdate:modelValue":[o=>e.answer.options=o,o=>p(o,e,!0)]},null,8,["question","modelValue","onUpdate:modelValue"])])):e.type===1?(f(),S("li",ea,[I(Z,{modelValue:e.answer.text,"onUpdate:modelValue":[o=>e.answer.text=o,o=>p(o,e)],type:"text",label:e.statement,error:e.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):e.type===2?(f(),S("li",ta,[I(Z,{modelValue:e.answer.text,"onUpdate:modelValue":[o=>e.answer.text=o,o=>p(o,e)],type:"date",label:e.statement,error:e.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):e.type===3?(f(),S("li",aa,[I(Z,{modelValue:e.answer.text,"onUpdate:modelValue":[o=>e.answer.text=o,o=>p(e.answer,e)],type:"number",label:e.statement,error:e.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):e.type===50?(f(),S("li",la,[I(Nt,{question:e,modelValue:e.answer.text,"onUpdate:modelValue":o=>e.answer.text=o},null,8,["question","modelValue","onUpdate:modelValue"])])):e.type===21?(f(),S("li",oa,[I(Lt,{question:e,modelValue:e.answer.text,"onUpdate:modelValue":o=>e.answer.text=o},null,8,["question","modelValue","onUpdate:modelValue"])])):J("",!0),e.type===30?(f(),S("li",ia,[I(Zt,{question:e,modelValue:e.answer.options,"onUpdate:modelValue":[o=>e.answer.options=o,o=>p(o,e,!0)]},null,8,["question","modelValue","onUpdate:modelValue"])])):e.type===20?(f(),S("li",na,[I(Mt,{question:e,modelValue:e.answer.text,"onUpdate:modelValue":o=>e.answer.text=o},null,8,["question","modelValue","onUpdate:modelValue"])])):e.type===4?(f(),S("li",sa,[I(de,{modelValue:e.answer.text,"onUpdate:modelValue":[o=>e.answer.text=o,o=>p(o,e,h)],label:e.statement,error:e.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):e.type===6?(f(),S("li",ra,[I(Rt,{question:e,modelValue:e.answer.options,"onUpdate:modelValue":[o=>e.answer.options=o,o=>p(o,e,h)]},null,8,["question","modelValue","onUpdate:modelValue"])])):e.type===8?(f(),S("li",ua,[I(Z,{modelValue:e.answer.text,"onUpdate:modelValue":[o=>e.answer.text=o,o=>c(o,e)],type:"email",label:e.statement,error:e.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):e.type===9?(f(),S("li",da,[I(Z,{modelValue:e.answer.text,"onUpdate:modelValue":[o=>e.answer.text=o,o=>V(o,e)],type:"tel",label:e.statement,error:e.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):e.type===10?(f(),S("li",ca,[I(Ft,{question:e,modelValue:e.answer.text,"onUpdate:modelValue":[o=>e.answer.text=o,o=>p(e.answer,e)],error:!!e.error},null,8,["question","modelValue","onUpdate:modelValue","error"]),d("div",pa,[d("span",va,T((O=e.error)==null?void 0:O.text),1)])])):e.type===11?(f(),S("li",ma,[I(At,{question:e,modelValue:e.answer.text,"onUpdate:modelValue":[o=>e.answer.text=o,o=>p(e.answer,e)],error:!!e.error},null,8,["question","modelValue","onUpdate:modelValue","error"]),d("div",fa,[d("span",ba,T((y=e.error)==null?void 0:y.text),1)])])):J("",!0)],64)):J("",!0)])])}),128)),d("div",ga,[Ce(s.$slots,"footer",{submit:E})])])]))}};const ya={class:"text-sm sm:text-xl uppercase font-bold p-5 text-blue-950"},Va={class:"grid grid-cols-4 gap-4"},ha=d("strong",null," Indicaciones: ",-1),_a=d("p",null," Estudiantes Universitarios. Lea y responda todos los ítems de manera obligatoria, verídica y detallada. ",-1),wa=d("p",null," Los datos consignados son confidenciales (Según ley de protección de datos personales). ",-1),Sa={class:"col-span-4 md:col-span-1"},Oa={class:"col-span-4 md:col-span-3 rounded-lg bg-white p-6 shadow-lg mb-4"},Ia={class:""},Ra={class:"text-lg font-semibold mb-3 uppercase"},$a={class:"text-sm uppercase mb-4 font-bold"},ka={key:0,class:"text-center text-lg uppercase font-extrabold text-gray-400 align-items-center"},Ca={class:"flex justify-between w-full"},Pa={class:"previous"},Ua={class:"text-start"},Ea=d("span",null,"Anterior",-1),Da={class:"text-lg capitalize"},Aa={class:"text-start"},Ta=d("span",null,"Anterior",-1),ja={class:"text-lg capitalize"},Fa={class:"nexts"},Na={class:"text-end"},Ba=d("span",null,"Siguiente ",-1),La={class:"text-lg capitalize"},za={class:"text-end"},Ma=d("span",null,"Siguiente ",-1),Ka={class:"text-lg capitalize"},Ha=d("div",{class:"text-end"},[d("span",null," Guardar "),d("h5",{class:"text-lg capitalize"}," Finalizar ")],-1),tl={__name:"survey",setup(t){const r=new Pe,v=new xe,m=Ue(),l=Ee(),a=R(null),u=R(null),p=R(null),n=R(null),c=R({section:null,topic:null}),V=R({section:null,topic:null}),x=R({section:null,topic:null}),U=R(!1),E=R(!1),s=async g=>{E.value=!0;let k=await h(g.id);k.length>0&&await m.setPositions(a.value.id,g.id,k[0].id)&&(a.value.topic=g.id,a.value.section=k[0].id,p.value=k,await $(a.value),n.value=await O(c.value.section.id)),E.value=!1},i=async g=>{E.value=!0;let k=await O(g.id);console.log("nextSection",g),console.log("questions",k),k.length>0&&await m.setPositions(a.value.id,c.value.topic.id,g.id)&&(a.value.section=g.id,await $(a.value),n.value=k),E.value=!1},e=async g=>await v.getTopics(g),h=async g=>await v.getSections(g),O=async g=>await v.getQuestions(g),y=(g,k)=>{let B=k.findIndex(X=>g.id===X.id);return B!==-1&&k.length!==B+1&&k.findIndex(Y=>{var H;return((H=k[B+1])==null?void 0:H.id)===Y.id})!==-1?k[B+1]:null},o=(g,k)=>{let B=k.findIndex(X=>g.id===X.id);return B!==-1&&B!==0&&k.findIndex(Y=>{var H;return((H=k[B-1])==null?void 0:H.id)===Y.id})!==-1?k[B-1]:null},N=async g=>{c.value.section=p.value.find(k=>k.id===g.section),c.value.topic=u.value.find(k=>k.id===g.topic)},b=async()=>{V.value.topic=y(c.value.topic,u.value),V.value.section=y(c.value.section,p.value)},w=async()=>{x.value.topic=o(c.value.topic,u.value),x.value.section=o(c.value.section,p.value)},$=async g=>{await N(g),await b(),await w()},_=async()=>{a.value=await v.getSurvey(l.params.id),a.value?a.value.topic&&a.value.section?(u.value=await e(a.value.id),p.value=await h(a.value.topic),n.value=await O(a.value.section),await $(a.value)):(r.back(),m.cont++):r.push({name:"home"})};return(async()=>{console.log("init survey "),U.value=!0,await _(),U.value=!1})(),(g,k)=>(f(),z(De,null,{default:M(()=>{var B,X;return[U.value?(f(),S(K,{key:0},[U.value?(f(),z(ge,{key:0})):J("",!0)],64)):(f(),S(K,{key:1},[d("h2",ya,T(a.value.title),1),d("div",Va,[I(A(Ae),{type:"info",class:"col-span-4",ref:"alert"},{default:M(()=>[ha,_a,wa]),_:1},512),d("div",Sa,[I(Te,{changeTopic:s,topics:u.value,current:c.value.topic},null,8,["topics","current"])]),d("div",Oa,[d("div",Ia,[d("h3",Ra,T((B=c.value.topic)==null?void 0:B.title),1),d("h4",$a,T((X=c.value.section)==null?void 0:X.title),1)]),p.value?(f(),S(K,{key:1},[E.value?(f(),z(ge,{key:0})):(f(),z(xa,{key:1,questions:n.value,section:c.value.section},{footer:M(({submit:Y})=>[d("div",Ca,[d("div",Pa,[x.value.section?(f(),z(A(te),{key:0,onClick:async()=>{await Y()&&await i(x.value.section)}},{default:M(()=>[d("div",Ua,[Ea,d("h5",Da,T(x.value.section.title),1)])]),_:2},1032,["onClick"])):(f(),S(K,{key:1},[x.value.topic?(f(),z(A(te),{key:0,color:"light",onClick:async()=>{await Y()&&await s(x.value.topic)}},{default:M(()=>[d("div",Aa,[Ta,d("h5",ja,T(x.value.topic.title),1)])]),_:2},1032,["onClick"])):J("",!0)],64))]),d("div",Fa,[V.value.section?(f(),z(A(te),{key:0,onClick:async()=>{await Y()&&await i(V.value.section)}},{default:M(()=>[d("div",Na,[Ba,d("h5",La,T(V.value.section.title),1)])]),_:2},1032,["onClick"])):(f(),S(K,{key:1},[V.value.topic!==null?(f(),z(A(te),{key:0,color:"light",onClick:async()=>{await Y()&&await s(V.value.topic)}},{default:M(()=>[d("div",za,[Ma,d("h5",Ka,T(V.value.topic.title),1)])]),_:2},1032,["onClick"])):(f(),z(A(te),{key:1,onClick:k[0]||(k[0]=()=>{}),color:"green"},{default:M(()=>[Ha]),_:1}))],64))])])]),_:1},8,["questions","section"]))],64)):(f(),S("h4",ka," no hay secciones "))])])],64))]}),_:1}))}};export{tl as default};
