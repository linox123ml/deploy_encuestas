var ke=Object.defineProperty;var Ce=(e,d,v)=>d in e?ke(e,d,{enumerable:!0,configurable:!0,writable:!0,value:v}):e[d]=v;var le=(e,d,v)=>(Ce(e,typeof d!="symbol"?d+"":d,v),v);import{I as re,d as ie,r as S,b as I,J as j,p as De,e as fe,K as ve,O as ge,F as z,w as me,f as $e,n as q,i as Te,o as g,c as F,m as be,A as Pe,Q as Ue,a as r,t as A,l as Ve,j as E,g as T,h as N,u as B,q as oe,R as xe,x as Y,k as Ee,S as we,C as Ae,y as Fe,V as je,W as Be,X as Ne,Y as ye,P as ee,M as Le}from"./index-8f1a08d0.js";import{r as Me,n as ze,S as Qe,_ as Ke}from"./HModal-50c359bd.js";import{_ as he}from"./IndexSurvey-acdec844.js";import{d as He,e as Ge,_ as Xe,r as Ye,b as Je,a as ce}from"./HSelect-2bdd286c.js";import{u as X,o as L,F as Ze,c as qe,l as ue,K as We,H as ne,T as Se,t as pe,N as de,p as et,O as tt,a as K}from"./use-outside-click-e9c079d9.js";import{x as at,a as M,b as lt,u as ot}from"./use-text-value-a8d22e60.js";import{p as it}from"./use-tree-walker-10f98d16.js";import{f as nt,a as st,_ as W}from"./InputForm-11f0aa06.js";class _e{constructor(){le(this,"getDepartamentos",async()=>(await re.get("http://38.43.133.27/SURVEY_PLACES/v1/departments/")).data.data);le(this,"getProvincias",async d=>(await re.get(`http://38.43.133.27/SURVEY_PLACES/v1/provinces/${d}/`)).data.data);le(this,"getDistritos",async d=>(await re.get(`http://38.43.133.27/SURVEY_PLACES/v1/districts/${d}/`)).data.data);le(this,"getUbigeo",async d=>{try{return(await re.get(`http://38.43.133.27/SURVEY_PLACES/v1/${d}/`)).data.data[0]}catch{return null}})}}function rt(e,d){return e===d}var ut=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ut||{}),dt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(dt||{}),ct=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ct||{});let Re=Symbol("ComboboxContext");function se(e){let d=Te(Re,null);if(d===null){let v=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,se),v}return d}let pt=ie({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>rt},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:d,attrs:v,emit:b}){let l=S(1),a=S(null),s=S(null),c=S(null),n=S(null),p=S({static:!1,hold:!1}),y=S([]),V=S(null),D=S(1),O=S(!1);function h(m=w=>w){let w=V.value!==null?y.value[V.value]:null,_=tt(m(y.value.slice()),k=>L(k.dataRef.domRef)),o=w?_.indexOf(w):null;return o===-1&&(o=null),{options:_,activeOptionIndex:o}}let f=I(()=>e.multiple?1:0),i=I(()=>e.nullable),[R,C]=He(I(()=>e.modelValue===void 0?X(f.value,{[1]:[],[0]:void 0}):e.modelValue),m=>b("update:modelValue",m),I(()=>e.defaultValue)),u={comboboxState:l,value:R,mode:f,compare(m,w){if(typeof e.by=="string"){let _=e.by;return(m==null?void 0:m[_])===(w==null?void 0:w[_])}return e.by(m,w)},defaultValue:I(()=>e.defaultValue),nullable:i,inputRef:s,labelRef:a,buttonRef:c,optionsRef:n,disabled:I(()=>e.disabled),options:y,change(m){C(m)},activeOptionIndex:I(()=>{if(O.value&&V.value===null&&y.value.length>0){let m=y.value.findIndex(w=>!w.dataRef.disabled);m!==-1&&(V.value=m)}return V.value}),activationTrigger:D,optionsPropsRef:p,closeCombobox(){O.value=!1,!e.disabled&&l.value!==1&&(l.value=1,V.value=null)},openCombobox(){if(O.value=!0,e.disabled||l.value===0)return;let m=y.value.findIndex(w=>{let _=j(w.dataRef.value);return X(f.value,{[0]:()=>u.compare(j(u.value.value),j(_)),[1]:()=>j(u.value.value).some(o=>u.compare(j(o),j(_)))})});m!==-1&&(V.value=m),l.value=0},goToOption(m,w,_){if(O.value=!1,e.disabled||n.value&&!p.value.static&&l.value===1)return;let o=h();if(o.activeOptionIndex===null){let U=o.options.findIndex(H=>!H.dataRef.disabled);U!==-1&&(o.activeOptionIndex=U)}let k=at(m===M.Specific?{focus:M.Specific,id:w}:{focus:m},{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:U=>U.id,resolveDisabled:U=>U.dataRef.disabled});V.value=k,D.value=_??1,y.value=o.options},selectOption(m){let w=y.value.find(o=>o.id===m);if(!w)return;let{dataRef:_}=w;C(X(f.value,{[0]:()=>_.value,[1]:()=>{let o=j(u.value.value).slice(),k=j(_.value),U=o.findIndex(H=>u.compare(k,j(H)));return U===-1?o.push(k):o.splice(U,1),o}}))},selectActiveOption(){if(u.activeOptionIndex.value===null)return;let{dataRef:m,id:w}=y.value[u.activeOptionIndex.value];C(X(f.value,{[0]:()=>m.value,[1]:()=>{let _=j(u.value.value).slice(),o=j(m.value),k=_.findIndex(U=>u.compare(o,j(U)));return k===-1?_.push(o):_.splice(k,1),_}})),u.goToOption(M.Specific,w)},registerOption(m,w){let _={id:m,dataRef:w},o=h(k=>[...k,_]);if(V.value===null){let k=w.value.value;X(f.value,{[0]:()=>u.compare(j(u.value.value),j(k)),[1]:()=>j(u.value.value).some(U=>u.compare(j(U),j(k)))})&&(o.activeOptionIndex=o.options.indexOf(_))}y.value=o.options,V.value=o.activeOptionIndex,D.value=1,o.options.some(k=>!L(k.dataRef.domRef))&&requestAnimationFrame(()=>{let k=h();y.value=k.options,V.value=k.activeOptionIndex})},unregisterOption(m){var w;u.activeOptionIndex.value!==null&&((w=u.options.value[u.activeOptionIndex.value])==null?void 0:w.id)===m&&(O.value=!0);let _=h(o=>{let k=o.findIndex(U=>U.id===m);return k!==-1&&o.splice(k,1),o});y.value=_.options,V.value=_.activeOptionIndex,D.value=1}};Ze([s,c,n],()=>u.closeCombobox(),I(()=>l.value===0)),De(Re,u),qe(I(()=>X(l.value,{[0]:ue.Open,[1]:ue.Closed})));let x=I(()=>u.activeOptionIndex.value===null?null:y.value[u.activeOptionIndex.value].dataRef.value),t=I(()=>{var m;return(m=L(s))==null?void 0:m.closest("form")});return fe(()=>{ve([t],()=>{if(!t.value||e.defaultValue===void 0)return;function m(){u.change(e.defaultValue)}return t.value.addEventListener("reset",m),()=>{var w;(w=t.value)==null||w.removeEventListener("reset",m)}},{immediate:!0})}),()=>{let{name:m,disabled:w,form:_,...o}=e,k={open:l.value===0,disabled:w,activeIndex:u.activeOptionIndex.value,activeOption:x.value,value:R.value};return ge(z,[...m!=null&&R.value!=null?Ge({[m]:R.value}).map(([U,H])=>ge(nt,We({features:st.Hidden,key:U,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:_,name:U,value:H}))):[],ne({theirProps:{...v,...Se(o,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:k,slots:d,attrs:v,name:"Combobox"})])}}}),vt=ie({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${pe()}`}},setup(e,{attrs:d,slots:v,expose:b}){let l=se("ComboboxButton");b({el:l.buttonRef,$el:l.buttonRef});function a(n){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(n.preventDefault(),l.openCombobox()),q(()=>{var p;return(p=L(l.inputRef))==null?void 0:p.focus({preventScroll:!0})}))}function s(n){switch(n.key){case K.ArrowDown:n.preventDefault(),n.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),q(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return;case K.ArrowUp:n.preventDefault(),n.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),q(()=>{l.value.value||l.goToOption(M.Last)})),q(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return;case K.Escape:if(l.comboboxState.value!==0)return;n.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&n.stopPropagation(),l.closeCombobox(),q(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return}}let c=lt(I(()=>({as:e.as,type:d.type})),l.buttonRef);return()=>{var n,p;let y={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{id:V,...D}=e,O={ref:l.buttonRef,id:V,type:c.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(n=L(l.optionsRef))==null?void 0:n.id,"aria-expanded":l.disabled.value?void 0:l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(p=L(l.labelRef))==null?void 0:p.id,V].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:s,onClick:a};return ne({ourProps:O,theirProps:D,slot:y,attrs:d,slots:v,name:"ComboboxButton"})}}}),mt=ie({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${pe()}`}},emits:{change:e=>!0},setup(e,{emit:d,attrs:v,slots:b,expose:l}){let a=se("ComboboxInput"),s={value:!1};l({el:a.inputRef,$el:a.inputRef});let c=I(()=>{var i;let R=a.value.value;return L(a.inputRef)?typeof e.displayValue<"u"&&R!==void 0?(i=e.displayValue(R))!=null?i:"":typeof R=="string"?R:"":""});fe(()=>{ve([c,a.comboboxState],([i,R],[C,u])=>{if(s.value)return;let x=L(a.inputRef);x&&(u===0&&R===1||i!==C)&&(x.value=i)},{immediate:!0}),ve([a.comboboxState],([i],[R])=>{if(i===0&&R===1){let C=L(a.inputRef);if(!C)return;let u=C.value,{selectionStart:x,selectionEnd:t,selectionDirection:m}=C;C.value="",C.value=u,m!==null?C.setSelectionRange(x,t,m):C.setSelectionRange(x,t)}})});let n=S(!1),p=S(null);function y(){n.value=!0}function V(){Me().nextFrame(()=>{n.value=!1,p.value&&(a.openCombobox(),d("change",p.value),p.value=null)})}function D(i){switch(s.value=!0,i.key){case K.Backspace:case K.Delete:if(a.mode.value!==0||!a.nullable.value)return;let R=i.currentTarget;requestAnimationFrame(()=>{if(R.value===""){a.change(null);let C=L(a.optionsRef);C&&(C.scrollTop=0),a.goToOption(M.Nothing)}});break;case K.Enter:if(s.value=!1,a.comboboxState.value!==0||n.value)return;if(i.preventDefault(),i.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case K.ArrowDown:return s.value=!1,i.preventDefault(),i.stopPropagation(),X(a.comboboxState.value,{[0]:()=>a.goToOption(M.Next),[1]:()=>a.openCombobox()});case K.ArrowUp:return s.value=!1,i.preventDefault(),i.stopPropagation(),X(a.comboboxState.value,{[0]:()=>a.goToOption(M.Previous),[1]:()=>{a.openCombobox(),q(()=>{a.value.value||a.goToOption(M.Last)})}});case K.Home:if(i.shiftKey)break;return s.value=!1,i.preventDefault(),i.stopPropagation(),a.goToOption(M.First);case K.PageUp:return s.value=!1,i.preventDefault(),i.stopPropagation(),a.goToOption(M.First);case K.End:if(i.shiftKey)break;return s.value=!1,i.preventDefault(),i.stopPropagation(),a.goToOption(M.Last);case K.PageDown:return s.value=!1,i.preventDefault(),i.stopPropagation(),a.goToOption(M.Last);case K.Escape:if(s.value=!1,a.comboboxState.value!==0)return;i.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&i.stopPropagation(),a.closeCombobox();break;case K.Tab:if(s.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.selectActiveOption(),a.closeCombobox();break}}function O(i){if(n.value){p.value=i;return}a.openCombobox(),d("change",i)}function h(){s.value=!1}let f=I(()=>{var i,R,C,u;return(u=(C=(R=e.defaultValue)!=null?R:a.defaultValue.value!==void 0?(i=e.displayValue)==null?void 0:i.call(e,a.defaultValue.value):null)!=null?C:a.defaultValue.value)!=null?u:""});return()=>{var i,R,C,u,x,t;let m={open:a.comboboxState.value===0},{id:w,displayValue:_,onChange:o,...k}=e,U={"aria-controls":(i=a.optionsRef.value)==null?void 0:i.id,"aria-expanded":a.disabled.value?void 0:a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null||(R=a.options.value[a.activeOptionIndex.value])==null?void 0:R.id,"aria-labelledby":(x=(C=L(a.labelRef))==null?void 0:C.id)!=null?x:(u=L(a.buttonRef))==null?void 0:u.id,"aria-autocomplete":"list",id:w,onCompositionstart:y,onCompositionend:V,onKeydown:D,onInput:O,onBlur:h,role:"combobox",type:(t=v.type)!=null?t:"text",tabIndex:0,ref:a.inputRef,defaultValue:f.value,disabled:a.disabled.value===!0?!0:void 0};return ne({ourProps:U,theirProps:k,slot:m,attrs:v,slots:b,features:de.RenderStrategy|de.Static,name:"ComboboxInput"})}}}),ft=ie({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:d,slots:v,expose:b}){let l=se("ComboboxOptions"),a=`headlessui-combobox-options-${pe()}`;b({el:l.optionsRef,$el:l.optionsRef}),me(()=>{l.optionsPropsRef.value.static=e.static}),me(()=>{l.optionsPropsRef.value.hold=e.hold});let s=et(),c=I(()=>s!==null?(s.value&ue.Open)===ue.Open:l.comboboxState.value===0);return it({container:I(()=>L(l.optionsRef)),enabled:I(()=>l.comboboxState.value===0),accept(n){return n.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:n.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute("role","none")}}),()=>{var n,p,y;let V={open:l.comboboxState.value===0},D={"aria-labelledby":(y=(n=L(l.labelRef))==null?void 0:n.id)!=null?y:(p=L(l.buttonRef))==null?void 0:p.id,id:a,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0},O=Se(e,["hold"]);return ne({ourProps:D,theirProps:O,slot:V,attrs:d,slots:v,features:de.RenderStrategy|de.Static,visible:c.value,name:"ComboboxOptions"})}}}),bt=ie({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:d,attrs:v,expose:b}){let l=se("ComboboxOption"),a=`headlessui-combobox-option-${pe()}`,s=S(null);b({el:s,$el:s});let c=I(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===a:!1),n=I(()=>X(l.mode.value,{[0]:()=>l.compare(j(l.value.value),j(e.value)),[1]:()=>j(l.value.value).some(i=>l.compare(j(i),j(e.value)))})),p=I(()=>({disabled:e.disabled,value:e.value,domRef:s}));fe(()=>l.registerOption(a,p)),$e(()=>l.unregisterOption(a)),me(()=>{l.comboboxState.value===0&&c.value&&l.activationTrigger.value!==0&&q(()=>{var i,R;return(R=(i=L(s))==null?void 0:i.scrollIntoView)==null?void 0:R.call(i,{block:"nearest"})})});function y(i){if(e.disabled)return i.preventDefault();l.selectOption(a),l.mode.value===0&&l.closeCombobox(),ze()||requestAnimationFrame(()=>{var R;return(R=L(l.inputRef))==null?void 0:R.focus()})}function V(){if(e.disabled)return l.goToOption(M.Nothing);l.goToOption(M.Specific,a)}let D=ot();function O(i){D.update(i)}function h(i){D.wasMoved(i)&&(e.disabled||c.value||l.goToOption(M.Specific,a,0))}function f(i){D.wasMoved(i)&&(e.disabled||c.value&&(l.optionsPropsRef.value.hold||l.goToOption(M.Nothing)))}return()=>{let{disabled:i}=e,R={active:c.value,selected:n.value,disabled:i},C={id:a,ref:s,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":n.value,disabled:void 0,onClick:y,onFocus:V,onPointerenter:O,onMouseenter:O,onPointermove:h,onMousemove:h,onPointerleave:f,onMouseleave:f};return ne({ourProps:C,theirProps:e,slot:R,attrs:v,slots:d,name:"ComboboxOption"})}}});const te=e=>!(e===""||e===null),gt=e=>{let d=/^[0-9]+$/;return!!e.match(d)},xt=(e,d)=>e.length<=d,yt=e=>{let d=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(d)},ht=["disabled","id","value","name"],Vt=["for"],Oe={__name:"RadioGroupForm",props:{questionId:String,options:Array,isDisabled:Boolean,modelValue:{type:[Number,Object,String,Array],default:null}},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,b=I({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>(g(!0),F(z,null,be(e.options,(s,c)=>(g(),F("div",{key:s.title,class:"flex items-center my-3"},[Pe(r("input",{disabled:e.isDisabled,id:`radio-${c}${e.questionId}`,type:"radio",value:s.id,"onUpdate:modelValue":a[0]||(a[0]=n=>b.value=n),name:`name-${c}${e.questionId}`,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,ht),[[Ue,b.value]]),r("label",{for:`radio-${c}${e.questionId}`,class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300 first-letter:uppercase"},A(s.title),9,Vt)]))),128))}},wt={class:"grid grid-cols-4"},St={class:"col-span-4 text-sm font-medium leading-6 text-gray-900 first-letter:uppercase"},_t={class:"text-red-700"},Rt={class:"w-full text-start"},Ot={class:"text-xs text-gray-600"},It={class:"relative col-span-4 mt-1 rounded-md ms-4"},kt={class:"col-span-4 text-end"},Ct={class:"text-xs text-red-600"},Dt={__name:"OneSelection",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},isDisabled:Boolean,placeholder:String,question:Object,helperText:String},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,b=I({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>{var s;return g(),F("div",wt,[r("div",St,[Ve(A(e.question.statement)+" ",1),r("span",_t,A(e.question.isRequired==="true"?"*":""),1)]),r("div",Rt,[r("span",Ot,A(e.question.helpQuestion),1)]),r("div",It,[E(Oe,{isDisabled:e.isDisabled,questionId:e.question.id,options:e.question.options,modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=c=>b.value=c)},null,8,["isDisabled","questionId","options","modelValue"])]),r("div",kt,[r("span",Ct,A((s=e.question.error)==null?void 0:s.text),1)])])}}},$t={class:"grid grid-cols-4"},Tt={for:"price",class:"col-span-4 text-sm font-medium leading-6 text-gray-900 first-letter:uppercase"},Pt={class:"relative mt-1 rounded-md col-span-4 ps-4"},Ut={class:"col-span-4 text-end"},Et={class:"text-xs text-red-600"},At={__name:"MultipleSelection",props:{modelValue:{type:[Array,String]},question:Object},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,b=I({get:()=>{var l;return Array.isArray(v.modelValue)?v.modelValue:(l=v.modelValue)==null?void 0:l.split(",")},set:l=>d("update:modelValue",l)});return(l,a)=>{var s;return g(),F("div",$t,[r("label",Tt,A(e.question.statement),1),r("div",Pt,[E(Xe,{questionIndex:e.question.id,options:e.question.options,modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=c=>b.value=c)},null,8,["questionIndex","options","modelValue"])]),r("div",Ut,[r("span",Et,A((s=e.question.error)==null?void 0:s.text),1)])])}}},Ft={class:"relative mt-1 first-letter:uppercase"},jt={class:"block text-sm font-medium leading-6 text-gray-900 first-letter:uppercase"},Bt={class:"relative w-full cursor-default overflow-hidden sm:text-sm"},Nt={key:0,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},ae={__name:"HAutoComplete",props:{itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"title"},modelValue:{type:[String,Number,Object],default:null},items:{type:Array,required:!0},label:{type:String},error:{type:Boolean,default:!1},placeholder:{type:String}},emits:["update:modelValue"],setup(e,{emit:d}){const v=e;S(!0);const b=I({get:()=>v.modelValue,set:c=>d("update:modelValue",c)});let l=S(""),a=S(!1),s=I(()=>l.value===""?[]:v.items.filter(c=>c[`${v.itemTitle}`].toLowerCase().replace(/\s+/g,"").includes(l.value.toLowerCase().replace(/\s+/g,""))));return(c,n)=>(g(),T(B(pt),{modelValue:b.value,"onUpdate:modelValue":n[2]||(n[2]=p=>b.value=p)},{default:N(()=>[r("div",Ft,[r("label",jt,A(e.label),1),r("div",Bt,[E(B(mt),{class:oe([e.error&&B(a)&&!b.value?"ring-red-600":"ring-gray-300","capitalize w-full bg-gray-50 border-gray-300 border-none p-2.5 text-sm leading-5 text-gray-900 ring-1 ring-inset placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 rounded-md"]),displayValue:p=>p==null?void 0:p[`${e.itemTitle}`],onChange:n[0]||(n[0]=p=>xe(l)?l.value=p.target.value:l=p.target.value),placeholder:e.placeholder},null,8,["class","displayValue","placeholder"]),E(B(vt),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:N(()=>[E(B(Ye),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),E(B(Qe),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:n[1]||(n[1]=p=>xe(l)?l.value="":l="")},{default:N(()=>[E(B(ft),{class:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:N(()=>[B(s).length===0&&B(l)!==""?(g(),F("div",Nt," Sin datos ")):Y("",!0),(g(!0),F(z,null,be(B(s),p=>(g(),T(B(bt),{as:"template",key:p[`${e.itemValue}`],value:p},{default:N(({selected:y,active:V})=>[r("li",{class:oe(["relative cursor-default select-none py-2 pl-10 pr-4",{"bg-teal-600 text-white":V,"text-gray-900":!V}])},[r("span",{class:oe(["block truncate first-letter:uppercase",{"font-medium":y,"font-normal":!y}])},A(p[`${e.itemTitle}`]),3),y?(g(),F("span",{key:0,class:oe(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":V,"text-teal-600":!V}])},[E(B(Je),{class:"h-5 w-5","aria-hidden":"true"})],2)):Y("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}},Lt={class:"block text-sm font-medium leading-6 text-gray-900 first-letter:uppercase"},Mt={class:"grid grid-cols-3 gap-x-5"},zt={class:"col-span-3 mt-2"},Qt={__name:"UbigeoOtherForm",props:{modelValue:[Number,Object,String,Array],question:[Object,Array],error:{type:Boolean,default:!1}},emits:["update:modelValue","clickInput"],setup(e,{emit:d}){const v=e,b=new _e,l=I({get:()=>v.modelValue,set:h=>d("update:modelValue",h)}),a=S([]),s=S([]),c=S([]),n=S({departamento:null,provincia:null,distrito:null}),p=async h=>{n.value.provincia=null,s.value=[],n.value.distrito=null,c.value=[],s.value=await b.getProvincias(h.code),d("update:modelValue",null)},y=async h=>{d("update:modelValue",null),c.value=[],n.value.distrito=null,c.value=await b.getDistritos(h.code)},V=async h=>{let f=await b.getUbigeo(h[0]);n.value.departamento={code:f.idDepartment,title:f.department},n.value.provincia={code:f.idProvince,title:f.province},n.value.distrito={code:f.idDistrict,title:f.district},v.question.other=h[1]},D=async()=>{a.value.length==0&&(a.value=await b.getDepartamentos())};return(async()=>{let h=l.value;h&&(h=h.split("%%%",2),await V(h))})(),(h,f)=>(g(),F(z,null,[r("label",Lt,A(e.question.statement),1),r("div",Mt,[r("div",null,[E(ae,{placeholder:"Departamento",error:e.error,items:a.value,onMouseup:D,itemValue:"code",modelValue:n.value.departamento,"onUpdate:modelValue":[f[0]||(f[0]=i=>n.value.departamento=i),p]},null,8,["error","items","modelValue"])]),r("div",null,[E(ae,{error:e.error,items:s.value,itemValue:"code",placeholder:"Provincia",modelValue:n.value.provincia,"onUpdate:modelValue":[f[1]||(f[1]=i=>n.value.provincia=i),y]},null,8,["error","items","modelValue"])]),r("div",null,[E(ae,{error:e.error,items:c.value,itemValue:"code",placeholder:"Distrito",modelValue:n.value.distrito,"onUpdate:modelValue":[f[2]||(f[2]=i=>n.value.distrito=i),f[3]||(f[3]=i=>l.value=i.code)]},null,8,["error","items","modelValue"])]),r("div",zt,[E(W,{helperText:e.question.helpQuestion,modelValue:e.question.other,"onUpdate:modelValue":f[4]||(f[4]=i=>e.question.other=i),label:"Dirección"},null,8,["helperText","modelValue"])])])],64))}},Kt={class:"block text-sm font-medium leading-6 text-gray-900 capitalize"},Ht={class:"grid grid-cols-3 gap-5"},Gt={__name:"UbigeoForm",props:{modelValue:[String,Number,Object,Array],question:[Object,Array],error:{type:Boolean,default:!1}},emits:["update:modelValue","clickInput"],setup(e,{emit:d}){const v=e,b=new _e,l=I({get:()=>v.modelValue,set:h=>d("update:modelValue",h)}),a=S([]),s=S([]),c=S([]),n=S({departamento:null,provincia:null,distrito:null}),p=async h=>{n.value.provincia=null,s.value=[],n.value.distrito=null,c.value=[],s.value=await b.getProvincias(h.code),d("update:modelValue",null)},y=async h=>{d("update:modelValue",null),c.value=[],n.value.distrito=null,c.value=await b.getDistritos(h.code)},V=async()=>{a.value=await b.getDepartamentos()},D=async h=>{let f=await b.getUbigeo(h);n.value.departamento={code:f.idDepartment,title:f.department},n.value.provincia={code:f.idProvince,title:f.province},n.value.distrito={code:f.idDistrict,title:f.district}};return(async()=>{l.value&&await D(l.value)})(),(h,f)=>(g(),F(z,null,[r("label",Kt,A(e.question.statement),1),r("div",Ht,[r("div",null,[E(ae,{placeholder:"Departamento",error:e.error,items:a.value,onMouseup:V,itemValue:"code",modelValue:n.value.departamento,"onUpdate:modelValue":[f[0]||(f[0]=i=>n.value.departamento=i),p]},null,8,["error","items","modelValue"])]),r("div",null,[E(ae,{error:e.error,items:s.value,itemValue:"code",placeholder:"Provincia",modelValue:n.value.provincia,"onUpdate:modelValue":[f[1]||(f[1]=i=>n.value.provincia=i),y]},null,8,["error","items","modelValue"])]),r("div",null,[E(ae,{error:e.error,items:c.value,itemValue:"code",placeholder:"Distrito",modelValue:n.value.distrito,"onUpdate:modelValue":[f[2]||(f[2]=i=>n.value.distrito=i),f[3]||(f[3]=i=>l.value=i.code)]},null,8,["error","items","modelValue"])])])],64))}},Xt={__name:"StudyCycleForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object,isDisabled:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,b=I({get:()=>v.modelValue,set:a=>d("update:modelValue",a)}),l=[{id:1,title:"Semestre I"},{id:2,title:"Semestre II    "},{id:3,title:"Semestre III"},{id:4,title:"Semestre IV"},{id:5,title:"Semestre V"},{id:6,title:"Semestre VI"},{id:7,title:"Semestre VII"},{id:8,title:"Semestre VIII"},{id:9,title:"Semestre IX"},{id:10,title:"Semestre X"},{id:11,title:"Semestre XI"},{id:12,title:"Semestre XII"}];return(a,s)=>(g(),T(ce,{isDisabled:e.isDisabled,modelValue:b.value,"onUpdate:modelValue":s[0]||(s[0]=c=>b.value=c),label:e.question.statement,error:e.question.error,options:l},null,8,["isDisabled","modelValue","label","error"]))}},Yt=[{id:"001",title:"trabajo social"},{id:"003",title:"medicina veterinaria y zootecnía"},{id:"004",title:"medicina humana"},{id:"005",title:"ingeniería química"},{id:"006",title:"ingeniería mecánica, eléctrica, electrónica y sistemas"},{id:"007",title:"ingeniería geológica y metalúrgica"},{id:"008",title:"ingeniería estadística e informática"},{id:"009",title:"ingeniería económica"},{id:"010",title:"ingeniería de minas"},{id:"011",title:"ingeniería civil y arquitectura"},{id:"012",title:"ingeniería agrícola"},{id:"013",title:"ciencias sociales"},{id:"014",title:"enfermería"},{id:"015",title:"ciencias jurídicas y políticas"},{id:"016",title:"ciencias de la salud"},{id:"017",title:"ciencias de la educación"},{id:"018",title:"ciencias contables y administrativas"},{id:"019",title:"ciencias biológicas"},{id:"020",title:"ciencias agrarias"}],Jt={__name:"FacuForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object,isDisabled:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,b=I({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>(g(),T(ce,{isDisabled:e.isDisabled,modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=s=>b.value=s),label:e.question.statement,error:e.question.error,options:B(Yt)},null,8,["isDisabled","modelValue","label","error","options"]))}},Zt=[{id:"001",title:"administración"},{id:"002",title:"antropología"},{id:"003",title:"arquitectura y urbanismo"},{id:"004",title:"arte: artes plásticas"},{id:"005",title:"arte: danza"},{id:"006",title:"arte: música"},{id:"007",title:"arte: teatro"},{id:"008",title:"biología: ecología"},{id:"009",title:"biología: microbiología y laboratorio clínico"},{id:"010",title:"biología: pesquería"},{id:"011",title:"ciencias contables"},{id:"012",title:"ciencias de la comunicación social"},{id:"013",title:"ciencias físico matemáticas: física"},{id:"014",title:"ciencias físico matemáticas: matemáticas"},{id:"015",title:"derecho"},{id:"034",title:"educación física"},{id:"035",title:"educación inicial"},{id:"036",title:"educación primaria"},{id:"037",title:"educación secundaria de la especialidad de ciencia, tecnología y ambiente"},{id:"038",title:"educación secundaria de la especialidad de ciencias sociales"},{id:"039",title:"educación secundaria de la especialidad de lengua, literatura, psicología y filosofía"},{id:"040",title:"educación secundaria de la especialidad de matemática, física, computación e informática"},{id:"041",title:"enfermería"},{id:"042",title:"ingeniería agrícola"},{id:"043",title:"ingeniería agroindustrial"},{id:"044",title:"ingeniería agronómica"},{id:"045",title:"ingeniería civil"},{id:"046",title:"ingeniería de minas"},{id:"047",title:"ingeniería de sistemas"},{id:"048",title:"ingeniería económica"},{id:"049",title:"ingeniería electrónica"},{id:"050",title:"ingeniería estadística e informática"},{id:"051",title:"ingeniería geológica"},{id:"052",title:"ingeniería mecánica eléctrica"},{id:"053",title:"ingeniería metalúrgica"},{id:"054",title:"ingeniería química"},{id:"055",title:"ingeniería topográfica y agrimensura"},{id:"169",title:"medicina humana"},{id:"170",title:"medicina veterinaria y zootecnía"},{id:"171",title:"nutrición humana"},{id:"172",title:"odontología"},{id:"231",title:"sociología"},{id:"232",title:"trabajo social"},{id:"233",title:"turismo"}],qt={__name:"ProStudyForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object,isDisabled:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,b=I({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>(g(),T(ce,{isDisabled:e.isDisabled,modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=s=>b.value=s),label:e.question.statement,error:e.question.error,options:B(Zt)},null,8,["isDisabled","modelValue","label","error","options"]))}},Wt={class:"grid grid-cols-4"},ea={for:"price",class:"col-span-4 text-sm font-medium leading-6 text-gray-900 capitalize"},ta={class:"relative col-span-4 mt-1 rounded-md ms-4"},aa={class:"col-span-4"},la={class:"col-span-4 text-end"},oa={class:"text-xs text-red-600"},ia={__name:"OneSelectionOtherForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,b=I({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>{var s;return g(),F("div",Wt,[r("label",ea,A(e.question.statement),1),r("div",ta,[E(Oe,{questionId:e.question.id,options:e.question.options,modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=c=>b.value=c)},null,8,["questionId","options","modelValue"])]),r("div",aa,[E(W,{modelValue:e.question.answer.text,"onUpdate:modelValue":a[1]||(a[1]=c=>e.question.answer.text=c),label:"Especifique"},null,8,["modelValue"])]),r("div",la,[r("span",oa,A((s=e.question.error)==null?void 0:s.text),1)])])}}},na={class:"grid grid-cols-2 mt-4 bg-white mx-auto justify-center"},sa={class:"col-span-2 rounded-lg"},ra=["id"],ua={class:"w-full text-end"},da={class:"text-xs text-red-600"},ca={class:"w-full text-end"},pa={class:"text-xs text-red-600"},va={class:"flex justify-end mt-4"},ma={__name:"Form",props:{questions:Array,section:Object},emits:["onSuccess","onFaild"],setup(e,{emit:d}){const v=e,b=new we,l=S(null),a=S({show:!1,text:null,type:"success"}),s=I(()=>v.questions),c=S(!0),n=u=>{s.value.map(x=>(x.isDependent==u.id&&(x.optionTrigger===u.answer.options||x.optionTrigger===null?x.show=!0:(x.answer=[],x.show=!1)),x))},p=(u,x,t=!1)=>{t&&n(x),x.isRequired==="true"&&y(u,x)},y=(u,x)=>{s.value.map(t=>{t.id===x.id&&(te(u)?x.isRequired==="false"&&!te(u)?(t.error={isError:!1,text:null},c.value=!0):(t.error={isError:!1,text:null},c.value=!0):(t.error={isError:!0,text:"Obligatorio"},c.value=!1))})},V=(u,x)=>{s.value.map(t=>{t.id==x.id&&(x.isRequired==="true"&&!te(u)?(t.error={isError:!0,text:"Obligatorio"},c.value=!1):x.isRequired==="false"&&!te(u)?(t.error={isError:!1,text:null},c.value=!0):yt(u)?(t.error={isError:!1,text:null},c.value=!0):(t.error={isError:!0,text:"Formato no valido"},c.value=!1))})},D=(u,x)=>{s.value.map(t=>{t.id==x.id&&(te(u)?gt(u)?x.isRequired==="false"&&!te(u)?(t.error={isError:!1,text:null},c.value=!0):xt(u,9)?(t.error={isError:!1,text:null},c.value=!0):(t.error={isError:!0,text:"Longitud debe se 9 digitos"},c.value=!1):(t.error={isError:!0,text:"Solo se permite numeros"},c.value=!1):(t.error={isError:!0,text:"Obligatorio"},c.value=!1))})},O=["78ae9492-a909-459f-ba53-15165c884d87","d2574937-e2fc-4eb5-b612-d767e3610a04","fb5c10df-f60d-4815-a007-a189e879054e","e8367e12-f088-4188-bed8-50342bac562c","c9175462-8e03-47b1-9450-2f126a1655c2","de9c81d9-87d5-4cf4-b2f0-5274399ff94c","a3056caa-84a9-44a0-9ee5-46a59ad3f073","50af5759-8009-4419-bfc2-8df851be62b1","4d36be9a-1567-4d80-a726-a5a1bc2a33c7","36f9a47d-457d-4052-ab25-47b4decb887f","574ba955-5176-4997-8e34-42524cafa862","6bc3b523-2a89-423d-99bf-53692c004633"],h=()=>{let u={section_:v.section.id,answers_:[]};const x=[1,2,3,5,8,9,10,20,50],t=[0,4],m=[6],w=[11],_=[30];return s.value.forEach(o=>{var k;if((!o.isDependent||o.show)&&!O.includes(o.id))if(x.includes(o.type))u.answers_.push({qst_:o.id,opts_:null,txt_:o.answer.text});else if(t.includes(o.type))u.answers_.push({qst_:o.id,opts_:[o.answer.options],txt_:null});else if(m.includes(o.type))u.answers_.push({qst_:o.id,opts_:Array.isArray(o.answer.options)?o.answer.options:(k=o.answer.options)==null?void 0:k.split(","),txt_:null});else if(w.includes(o.type)){let U=o.answer.text.split("%%%",2);u.answers_.push({qst_:o.id,opts_:null,txt_:U[0]+"%%%"+o.other})}else _.includes(o.type)&&u.answers_.push({qst_:o.id,opts_:[o.answer.options],txt_:o.answer.text})}),u},f=S([]),i=()=>{var u=0;return s.value.forEach(x=>{var t,m;!((t=x.answer)!=null&&t.options)&&!((m=x.answer)!=null&&m.text)&&x.isRequired==="true"&&(!x.isDependent||x.show)?(x.error={isError:!0,text:"Obligatorio"},f.value.push(x.id),u++):x.error={isError:!1,text:null}}),!(u>0)},R=async()=>{if(i()){let x=h(),t=await b.saveSection(x);return a.value.show=!0,a.value.text="Datos actualizados",a.value.type="success",d("onSuccess",a.value),t}return document.getElementById(f.value[0]).scrollIntoView("smooth"),console.error("Error ..."),a.value.show=!0,a.value.text="Responda las preguntas de manera correcta",a.value.type="danger",d("onFaild",a.value),!1};return(async()=>{s.value.forEach(u=>{n(u)})})(),(u,x)=>(g(),F("div",na,[r("div",sa,[r("ul",{ref_key:"refList",ref:l},[(g(!0),F(z,null,be(s.value,(t,m)=>{var w,_;return g(),F("li",{key:t.id,class:"my-3",id:t.id},[!t.isDependent||t.show?(g(),F(z,{key:0},[t.type===0?(g(),T(Dt,{key:0,isDisabled:O.includes(t.id),question:t,modelValue:t.answer.options,"onUpdate:modelValue":[o=>t.answer.options=o,o=>p(o,t,!0)]},null,8,["isDisabled","question","modelValue","onUpdate:modelValue"])):t.type===1?(g(),T(W,{key:1,helperText:t.helpQuestion,isReadonly:O.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(o,t)],type:"text",isRequired:t.isRequired==="true",label:t.statement,error:t.error},null,8,["helperText","isReadonly","modelValue","onUpdate:modelValue","isRequired","label","error"])):t.type===2?(g(),T(W,{key:2,helperText:t.helpQuestion,isReadonly:O.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(o,t)],type:"date",isRequired:t.isRequired==="true",label:t.statement,error:t.error},null,8,["helperText","isReadonly","modelValue","onUpdate:modelValue","isRequired","label","error"])):t.type===3?(g(),T(W,{key:3,helperText:t.helpQuestion,isReadonly:O.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(t.answer,t)],type:"number",isRequired:t.isRequired==="true",label:t.statement,error:t.error},null,8,["helperText","isReadonly","modelValue","onUpdate:modelValue","isRequired","label","error"])):t.type===50?(g(),T(Xt,{key:4,isDisabled:O.includes(t.id),question:t,modelValue:t.answer.text,"onUpdate:modelValue":o=>t.answer.text=o},null,8,["isDisabled","question","modelValue","onUpdate:modelValue"])):t.type===21?(g(),T(Jt,{key:5,isDisabled:O.includes(t.id),question:t,modelValue:t.answer.text,"onUpdate:modelValue":o=>t.answer.text=o},null,8,["isDisabled","question","modelValue","onUpdate:modelValue"])):Y("",!0),t.type===30?(g(),T(ia,{key:6,question:t,modelValue:t.answer.options,"onUpdate:modelValue":[o=>t.answer.options=o,o=>p(o,t,!0)]},null,8,["question","modelValue","onUpdate:modelValue"])):t.type===20?(g(),T(qt,{key:7,isDisabled:O.includes(t.id),question:t,modelValue:t.answer.text,"onUpdate:modelValue":o=>t.answer.text=o},null,8,["isDisabled","question","modelValue","onUpdate:modelValue"])):t.type===4?(g(),T(ce,{key:8,modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(o,t,m)],label:t.statement,error:t.error},null,8,["modelValue","onUpdate:modelValue","label","error"])):t.type===6?(g(),T(At,{key:9,question:t,modelValue:t.answer.options,"onUpdate:modelValue":[o=>t.answer.options=o,o=>p(o,t,m)]},null,8,["question","modelValue","onUpdate:modelValue"])):t.type===8?(g(),T(W,{key:10,helperText:t.helpQuestion,isReadonly:O.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>V(o,t)],type:"email",isRequired:t.isRequired==="true",label:t.statement,error:t.error},null,8,["helperText","isReadonly","modelValue","onUpdate:modelValue","isRequired","label","error"])):t.type===9?(g(),T(W,{key:11,helperText:t.helpQuestion,isReadonly:O.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>D(o,t)],type:"tel",isRequired:t.isRequired==="true",label:t.statement,error:t.error},null,8,["helperText","isReadonly","modelValue","onUpdate:modelValue","isRequired","label","error"])):t.type===10?(g(),F(z,{key:12},[E(Gt,{question:t,modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(t.answer,t)],error:!!t.error},null,8,["question","modelValue","onUpdate:modelValue","error"]),r("div",ua,[r("span",da,A((w=t.error)==null?void 0:w.text),1)])],64)):t.type===11?(g(),F(z,{key:13},[E(Qt,{question:t,modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(t.answer,t)],error:!!t.error},null,8,["question","modelValue","onUpdate:modelValue","error"]),r("div",ca,[r("span",pa,A((_=t.error)==null?void 0:_.text),1)])],64)):Y("",!0)],64)):Y("",!0)],8,ra)}),128))],512),r("div",va,[Ee(u.$slots,"footer",{submit:R})])])]))}};const fa={class:"z-10 fixed right-2 top-1/2 block md:hidden"},ba=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-6"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"})],-1),ga={class:"text-sm sm:text-xl uppercase font-bold p-5 text-blue-950"},xa={class:"grid grid-cols-4 gap-4"},ya=r("strong",null," Indicaciones: ",-1),ha=r("p",null," Estudiantes Universitarios. Lea y responda todos los ítems de manera obligatoria, verídica y detallada. ",-1),Va=r("p",null," Los datos consignados son confidenciales (Según ley de protección de datos personales). ",-1),wa={class:"col-span-4 lg:col-span-1 hidden md:block"},Sa={class:"col-span-4 lg:col-span-3 rounded-lg bg-white p-6 shadow-lg mb-4"},_a={class:""},Ra={class:"text-lg font-semibold mb-3 uppercase"},Oa={class:"text-sm uppercase mb-4 font-bold"},Ia={key:0,class:"text-center text-lg uppercase font-extrabold text-gray-400 align-items-center"},ka={class:"flex justify-between w-full"},Ca={class:"previous"},Da={class:"text-start"},$a=r("span",null,"Anterior",-1),Ta={class:"text-lg first-letter:uppercase"},Pa={class:"text-start"},Ua=r("span",null,"Anterior",-1),Ea={class:"text-lg first-letter:uppercase"},Aa={class:"nexts"},Fa={class:"text-end"},ja=r("span",null," Guardar ",-1),Ba={class:"flex items-center"},Na=r("small",{class:"text-sm text-gray-50 me-2 -mb-1"}," Siguiente: ",-1),La={class:"text-lg first-letter:uppercase"},Ma={class:"text-end"},za=r("span",null,"Guardar ",-1),Qa={class:"text-lg first-letter:uppercase"},Ka=r("div",{class:"text-end"},[r("span",null," Guardar "),r("h5",{class:"text-lg first-letter:uppercase"}," Finalizar ")],-1),al={__name:"survey",setup(e){const d=new Ae,v=new we,b=Fe(),l=je(),a=S(null),s=S(null),c=S(null),n=S(null),p=S({show:!1,text:"null",type:"success"}),y=S({section:null,topic:null}),V=S({section:null,topic:null}),D=S({section:null,topic:null}),O=S(!1),h=S(!1),f=P=>{p.value=P,setTimeout(()=>{p.value=!1},1500)},i=()=>{window.scroll({top:80,left:0,behavior:"smooth"})},R=async()=>{h.value=!0,await v.finishSurvey(a.value.id)&&(a.value.hasFinished="true"),h.value=!1},C=async P=>{h.value=!0;let $=await t(P.id);$.length>0&&await b.setPositions(a.value.id,P.id,$[0].id)&&(a.value.topic=P.id,a.value.section=$[0].id,c.value=$,await H(a.value),n.value=await m(y.value.section.id)),h.value=!1},u=async P=>{h.value=!0;let $=await m(P.id);$.length>0&&await b.setPositions(a.value.id,y.value.topic.id,P.id)&&(a.value.section=P.id,await H(a.value),n.value=$),h.value=!1},x=async P=>await v.getTopics(P),t=async P=>await v.getSections(P),m=async P=>await v.getQuestions(P),w=(P,$)=>{let Q=$.findIndex(J=>P.id===J.id);return Q!==-1&&$.length!==Q+1&&$.findIndex(G=>{var Z;return((Z=$[Q+1])==null?void 0:Z.id)===G.id})!==-1?$[Q+1]:null},_=(P,$)=>{let Q=$.findIndex(J=>P.id===J.id);return Q!==-1&&Q!==0&&$.findIndex(G=>{var Z;return((Z=$[Q-1])==null?void 0:Z.id)===G.id})!==-1?$[Q-1]:null},o=async P=>{y.value.section=c.value.find($=>$.id===P.section),y.value.topic=s.value.find($=>$.id===P.topic)},k=async()=>{V.value.topic=w(y.value.topic,s.value),V.value.section=w(y.value.section,c.value)},U=async()=>{D.value.topic=_(y.value.topic,s.value),D.value.section=_(y.value.section,c.value)},H=async P=>{await o(P),await k(),await U()},Ie=async()=>{a.value=await v.getSurvey(l.params.id),a.value?a.value.topic&&a.value.section?(s.value=await x(a.value.id),c.value=await t(a.value.topic),n.value=await m(a.value.section),await H(a.value)):(d.back(),b.cont++):d.push({name:"home"})};return(async()=>{console.log("init survey "),O.value=!0,await Ie(),O.value=!1})(),(P,$)=>(g(),T(Be,null,{default:N(()=>{var Q,J;return[p.value.show?(g(),T(B(Ne),{key:0,class:oe(["fixed top-4 right-2 z-20 shadow-lg border",p.value.type==="success"?"border-green-200":"border-red-200"]),type:p.value.type,divide:""},{default:N(()=>[Ve(A(p.value.text),1)]),_:1},8,["class","type"])):Y("",!0),O.value?(g(),F(z,{key:1},[O.value?(g(),T(ye,{key:0})):Y("",!0)],64)):(g(),F(z,{key:2},[r("div",fa,[E(Ke,null,{activator:N(({modal:G})=>[E(B(ee),{onClick:G,color:"dark"},{default:N(()=>[ba]),_:2},1032,["onClick"])]),content:N(()=>[E(he,{changeTopic:C,topics:s.value,current:y.value.topic,isCompleted:a.value.hasFinished==="true"},null,8,["topics","current","isCompleted"])]),_:1})]),r("h2",ga,A(a.value.title),1),r("div",xa,[E(B(Le),{type:"info",class:"col-span-4",ref:"alert"},{default:N(()=>[ya,ha,Va]),_:1},512),r("div",wa,[E(he,{changeTopic:C,topics:s.value,current:y.value.topic,isCompleted:a.value.hasFinished==="true"},null,8,["topics","current","isCompleted"])]),r("div",Sa,[r("div",_a,[r("h3",Ra,A((Q=y.value.topic)==null?void 0:Q.title),1),r("h4",Oa,A((J=y.value.section)==null?void 0:J.title),1)]),c.value?(g(),F(z,{key:1},[h.value?(g(),T(ye,{key:0})):(g(),T(ma,{key:1,questions:n.value,section:y.value.section,onOnSuccess:f,onOnFaild:f},{footer:N(({submit:G})=>[r("div",ka,[r("div",Ca,[D.value.section&&a.value.hasFinished==="true"?(g(),T(B(ee),{key:0,onClick:$[0]||($[0]=async()=>{await u(D.value.section),i()})},{default:N(()=>[r("div",Da,[$a,r("h5",Ta,A(D.value.section.title),1)])]),_:1})):(g(),F(z,{key:1},[D.value.topic&&a.value.hasFinished==="true"?(g(),T(B(ee),{key:0,color:"light",onClick:$[1]||($[1]=async()=>{await C(D.value.topic),i()})},{default:N(()=>[r("div",Pa,[Ua,r("h5",Ea,A(D.value.topic.title),1)])]),_:1})):Y("",!0)],64))]),r("div",Aa,[V.value.section?(g(),T(B(ee),{key:0,onClick:async()=>{await G()&&(await u(V.value.section),i())}},{default:N(()=>[r("div",Fa,[ja,r("div",Ba,[Na,r("h5",La,A(V.value.section.title),1)])])]),_:2},1032,["onClick"])):(g(),F(z,{key:1},[V.value.topic!==null?(g(),T(B(ee),{key:0,color:"light",onClick:async()=>{await G()&&(await C(V.value.topic),i())}},{default:N(()=>[r("div",Ma,[za,r("h5",Qa," Siguiente: "+A(V.value.topic.title),1)])]),_:2},1032,["onClick"])):(g(),F(z,{key:1},[a.value.hasFinished==="false"?(g(),T(B(ee),{key:0,color:"green",onClick:async()=>{await G()&&(await R(),i())}},{default:N(()=>[Ka]),_:2},1032,["onClick"])):Y("",!0)],64))],64))])])]),_:1},8,["questions","section"]))],64)):(g(),F("h4",Ia," no hay secciones "))])])],64))]}),_:1}))}};export{al as default};
