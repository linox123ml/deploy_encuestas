var ye=Object.defineProperty;var he=(e,s,d)=>s in e?ye(e,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[s]=d;var X=(e,s,d)=>(he(e,typeof s!="symbol"?s+"":s,d),d);import{d as J,r as I,b as h,z as $,p as Ve,e as se,x as re,y as ce,F as N,w as ie,f as we,n as K,i as Se,o as S,c as R,a as i,t as P,B as de,O as _e,q as z,m as ae,P as Oe,j as C,g as Q,h as M,u as B,Q as Y,A as Z,R as ne,M as Re,D as me,k as Ce,l as ue,K as ke,S as Ie,U as $e}from"./index-de1897b5.js";import{_ as fe}from"./ButtonPrimary-617dc1cb.js";import{_ as Te}from"./IndexSurvey-ace9bb91.js";import{u as L,o as D,F as Pe,c as De,l as te,K as Ue,H as q,T as be,t as oe,N as le,p as Ae,O as Ee,a as E}from"./use-outside-click-3d950fb0.js";import{x as Be,a as A,b as Fe,u as je}from"./use-tracked-pointer-013c0e86.js";import{p as Ne}from"./use-tree-walker-831232f9.js";import{f as Le,a as Me,_ as ze}from"./InputForm-f36e20b0.js";import{d as Ke,e as He,r as Ge,a as Qe}from"./use-controllable-e01e1177.js";import{r as Ze,n as Je,S as qe}from"./transition-819097c1.js";function We(e,s){return e===s}var Xe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Xe||{}),Ye=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ye||{}),et=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(et||{});let ge=Symbol("ComboboxContext");function W(e){let s=Se(ge,null);if(s===null){let d=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,W),d}return s}let tt=J({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>We},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:s,attrs:d,emit:b}){let l=I(1),a=I(null),c=I(null),g=I(null),o=I(null),v=I({static:!1,hold:!1}),p=I([]),m=I(null),t=I(1),u=I(!1);function n(f=V=>V){let V=m.value!==null?p.value[m.value]:null,_=Ee(f(p.value.slice()),O=>D(O.dataRef.domRef)),x=V?_.indexOf(V):null;return x===-1&&(x=null),{options:_,activeOptionIndex:x}}let U=h(()=>e.multiple?1:0),r=h(()=>e.nullable),[w,k]=Ke(h(()=>e.modelValue===void 0?L(U.value,{[1]:[],[0]:void 0}):e.modelValue),f=>b("update:modelValue",f),h(()=>e.defaultValue)),y={comboboxState:l,value:w,mode:U,compare(f,V){if(typeof e.by=="string"){let _=e.by;return(f==null?void 0:f[_])===(V==null?void 0:V[_])}return e.by(f,V)},defaultValue:h(()=>e.defaultValue),nullable:r,inputRef:c,labelRef:a,buttonRef:g,optionsRef:o,disabled:h(()=>e.disabled),options:p,change(f){k(f)},activeOptionIndex:h(()=>{if(u.value&&m.value===null&&p.value.length>0){let f=p.value.findIndex(V=>!V.dataRef.disabled);f!==-1&&(m.value=f)}return m.value}),activationTrigger:t,optionsPropsRef:v,closeCombobox(){u.value=!1,!e.disabled&&l.value!==1&&(l.value=1,m.value=null)},openCombobox(){if(u.value=!0,e.disabled||l.value===0)return;let f=p.value.findIndex(V=>{let _=$(V.dataRef.value);return L(U.value,{[0]:()=>y.compare($(y.value.value),$(_)),[1]:()=>$(y.value.value).some(x=>y.compare($(x),$(_)))})});f!==-1&&(m.value=f),l.value=0},goToOption(f,V,_){if(u.value=!1,e.disabled||o.value&&!v.value.static&&l.value===1)return;let x=n();if(x.activeOptionIndex===null){let T=x.options.findIndex(G=>!G.dataRef.disabled);T!==-1&&(x.activeOptionIndex=T)}let O=Be(f===A.Specific?{focus:A.Specific,id:V}:{focus:f},{resolveItems:()=>x.options,resolveActiveIndex:()=>x.activeOptionIndex,resolveId:T=>T.id,resolveDisabled:T=>T.dataRef.disabled});m.value=O,t.value=_??1,p.value=x.options},selectOption(f){let V=p.value.find(x=>x.id===f);if(!V)return;let{dataRef:_}=V;k(L(U.value,{[0]:()=>_.value,[1]:()=>{let x=$(y.value.value).slice(),O=$(_.value),T=x.findIndex(G=>y.compare(O,$(G)));return T===-1?x.push(O):x.splice(T,1),x}}))},selectActiveOption(){if(y.activeOptionIndex.value===null)return;let{dataRef:f,id:V}=p.value[y.activeOptionIndex.value];k(L(U.value,{[0]:()=>f.value,[1]:()=>{let _=$(y.value.value).slice(),x=$(f.value),O=_.findIndex(T=>y.compare(x,$(T)));return O===-1?_.push(x):_.splice(O,1),_}})),y.goToOption(A.Specific,V)},registerOption(f,V){let _={id:f,dataRef:V},x=n(O=>[...O,_]);if(m.value===null){let O=V.value.value;L(U.value,{[0]:()=>y.compare($(y.value.value),$(O)),[1]:()=>$(y.value.value).some(T=>y.compare($(T),$(O)))})&&(x.activeOptionIndex=x.options.indexOf(_))}p.value=x.options,m.value=x.activeOptionIndex,t.value=1,x.options.some(O=>!D(O.dataRef.domRef))&&requestAnimationFrame(()=>{let O=n();p.value=O.options,m.value=O.activeOptionIndex})},unregisterOption(f){var V;y.activeOptionIndex.value!==null&&((V=y.options.value[y.activeOptionIndex.value])==null?void 0:V.id)===f&&(u.value=!0);let _=n(x=>{let O=x.findIndex(T=>T.id===f);return O!==-1&&x.splice(O,1),x});p.value=_.options,m.value=_.activeOptionIndex,t.value=1}};Pe([c,g,o],()=>y.closeCombobox(),h(()=>l.value===0)),Ve(ge,y),De(h(()=>L(l.value,{[0]:te.Open,[1]:te.Closed})));let F=h(()=>y.activeOptionIndex.value===null?null:p.value[y.activeOptionIndex.value].dataRef.value),j=h(()=>{var f;return(f=D(c))==null?void 0:f.closest("form")});return se(()=>{re([j],()=>{if(!j.value||e.defaultValue===void 0)return;function f(){y.change(e.defaultValue)}return j.value.addEventListener("reset",f),()=>{var V;(V=j.value)==null||V.removeEventListener("reset",f)}},{immediate:!0})}),()=>{let{name:f,disabled:V,form:_,...x}=e,O={open:l.value===0,disabled:V,activeIndex:y.activeOptionIndex.value,activeOption:F.value,value:w.value};return ce(N,[...f!=null&&w.value!=null?He({[f]:w.value}).map(([T,G])=>ce(Le,Ue({features:Me.Hidden,key:T,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:_,name:T,value:G}))):[],q({theirProps:{...d,...be(x,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:O,slots:s,attrs:d,name:"Combobox"})])}}}),lt=J({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${oe()}`}},setup(e,{attrs:s,slots:d,expose:b}){let l=W("ComboboxButton");b({el:l.buttonRef,$el:l.buttonRef});function a(o){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(o.preventDefault(),l.openCombobox()),K(()=>{var v;return(v=D(l.inputRef))==null?void 0:v.focus({preventScroll:!0})}))}function c(o){switch(o.key){case E.ArrowDown:o.preventDefault(),o.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),K(()=>{var v;return(v=l.inputRef.value)==null?void 0:v.focus({preventScroll:!0})});return;case E.ArrowUp:o.preventDefault(),o.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),K(()=>{l.value.value||l.goToOption(A.Last)})),K(()=>{var v;return(v=l.inputRef.value)==null?void 0:v.focus({preventScroll:!0})});return;case E.Escape:if(l.comboboxState.value!==0)return;o.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&o.stopPropagation(),l.closeCombobox(),K(()=>{var v;return(v=l.inputRef.value)==null?void 0:v.focus({preventScroll:!0})});return}}let g=Fe(h(()=>({as:e.as,type:s.type})),l.buttonRef);return()=>{var o,v;let p={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{id:m,...t}=e,u={ref:l.buttonRef,id:m,type:g.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(o=D(l.optionsRef))==null?void 0:o.id,"aria-expanded":l.disabled.value?void 0:l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(v=D(l.labelRef))==null?void 0:v.id,m].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:c,onClick:a};return q({ourProps:u,theirProps:t,slot:p,attrs:s,slots:d,name:"ComboboxButton"})}}}),at=J({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${oe()}`}},emits:{change:e=>!0},setup(e,{emit:s,attrs:d,slots:b,expose:l}){let a=W("ComboboxInput"),c={value:!1};l({el:a.inputRef,$el:a.inputRef});let g=h(()=>{var r;let w=a.value.value;return D(a.inputRef)?typeof e.displayValue<"u"&&w!==void 0?(r=e.displayValue(w))!=null?r:"":typeof w=="string"?w:"":""});se(()=>{re([g,a.comboboxState],([r,w],[k,y])=>{if(c.value)return;let F=D(a.inputRef);F&&(y===0&&w===1||r!==k)&&(F.value=r)},{immediate:!0}),re([a.comboboxState],([r],[w])=>{if(r===0&&w===1){let k=D(a.inputRef);if(!k)return;let y=k.value,{selectionStart:F,selectionEnd:j,selectionDirection:f}=k;k.value="",k.value=y,f!==null?k.setSelectionRange(F,j,f):k.setSelectionRange(F,j)}})});let o=I(!1),v=I(null);function p(){o.value=!0}function m(){Ze().nextFrame(()=>{o.value=!1,v.value&&(a.openCombobox(),s("change",v.value),v.value=null)})}function t(r){switch(c.value=!0,r.key){case E.Backspace:case E.Delete:if(a.mode.value!==0||!a.nullable.value)return;let w=r.currentTarget;requestAnimationFrame(()=>{if(w.value===""){a.change(null);let k=D(a.optionsRef);k&&(k.scrollTop=0),a.goToOption(A.Nothing)}});break;case E.Enter:if(c.value=!1,a.comboboxState.value!==0||o.value)return;if(r.preventDefault(),r.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case E.ArrowDown:return c.value=!1,r.preventDefault(),r.stopPropagation(),L(a.comboboxState.value,{[0]:()=>a.goToOption(A.Next),[1]:()=>a.openCombobox()});case E.ArrowUp:return c.value=!1,r.preventDefault(),r.stopPropagation(),L(a.comboboxState.value,{[0]:()=>a.goToOption(A.Previous),[1]:()=>{a.openCombobox(),K(()=>{a.value.value||a.goToOption(A.Last)})}});case E.Home:if(r.shiftKey)break;return c.value=!1,r.preventDefault(),r.stopPropagation(),a.goToOption(A.First);case E.PageUp:return c.value=!1,r.preventDefault(),r.stopPropagation(),a.goToOption(A.First);case E.End:if(r.shiftKey)break;return c.value=!1,r.preventDefault(),r.stopPropagation(),a.goToOption(A.Last);case E.PageDown:return c.value=!1,r.preventDefault(),r.stopPropagation(),a.goToOption(A.Last);case E.Escape:if(c.value=!1,a.comboboxState.value!==0)return;r.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&r.stopPropagation(),a.closeCombobox();break;case E.Tab:if(c.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.selectActiveOption(),a.closeCombobox();break}}function u(r){if(o.value){v.value=r;return}a.openCombobox(),s("change",r)}function n(){c.value=!1}let U=h(()=>{var r,w,k,y;return(y=(k=(w=e.defaultValue)!=null?w:a.defaultValue.value!==void 0?(r=e.displayValue)==null?void 0:r.call(e,a.defaultValue.value):null)!=null?k:a.defaultValue.value)!=null?y:""});return()=>{var r,w,k,y,F,j;let f={open:a.comboboxState.value===0},{id:V,displayValue:_,onChange:x,...O}=e,T={"aria-controls":(r=a.optionsRef.value)==null?void 0:r.id,"aria-expanded":a.disabled.value?void 0:a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null||(w=a.options.value[a.activeOptionIndex.value])==null?void 0:w.id,"aria-labelledby":(F=(k=D(a.labelRef))==null?void 0:k.id)!=null?F:(y=D(a.buttonRef))==null?void 0:y.id,"aria-autocomplete":"list",id:V,onCompositionstart:p,onCompositionend:m,onKeydown:t,onInput:u,onBlur:n,role:"combobox",type:(j=d.type)!=null?j:"text",tabIndex:0,ref:a.inputRef,defaultValue:U.value,disabled:a.disabled.value===!0?!0:void 0};return q({ourProps:T,theirProps:O,slot:f,attrs:d,slots:b,features:le.RenderStrategy|le.Static,name:"ComboboxInput"})}}}),ot=J({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:s,slots:d,expose:b}){let l=W("ComboboxOptions"),a=`headlessui-combobox-options-${oe()}`;b({el:l.optionsRef,$el:l.optionsRef}),ie(()=>{l.optionsPropsRef.value.static=e.static}),ie(()=>{l.optionsPropsRef.value.hold=e.hold});let c=Ae(),g=h(()=>c!==null?(c.value&te.Open)===te.Open:l.comboboxState.value===0);return Ne({container:h(()=>D(l.optionsRef)),enabled:h(()=>l.comboboxState.value===0),accept(o){return o.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:o.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(o){o.setAttribute("role","none")}}),()=>{var o,v,p;let m={open:l.comboboxState.value===0},t={"aria-labelledby":(p=(o=D(l.labelRef))==null?void 0:o.id)!=null?p:(v=D(l.buttonRef))==null?void 0:v.id,id:a,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0},u=be(e,["hold"]);return q({ourProps:t,theirProps:u,slot:m,attrs:s,slots:d,features:le.RenderStrategy|le.Static,visible:g.value,name:"ComboboxOptions"})}}}),nt=J({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:s,attrs:d,expose:b}){let l=W("ComboboxOption"),a=`headlessui-combobox-option-${oe()}`,c=I(null);b({el:c,$el:c});let g=h(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===a:!1),o=h(()=>L(l.mode.value,{[0]:()=>l.compare($(l.value.value),$(e.value)),[1]:()=>$(l.value.value).some(r=>l.compare($(r),$(e.value)))})),v=h(()=>({disabled:e.disabled,value:e.value,domRef:c}));se(()=>l.registerOption(a,v)),we(()=>l.unregisterOption(a)),ie(()=>{l.comboboxState.value===0&&g.value&&l.activationTrigger.value!==0&&K(()=>{var r,w;return(w=(r=D(c))==null?void 0:r.scrollIntoView)==null?void 0:w.call(r,{block:"nearest"})})});function p(r){if(e.disabled)return r.preventDefault();l.selectOption(a),l.mode.value===0&&l.closeCombobox(),Je()||requestAnimationFrame(()=>{var w;return(w=D(l.inputRef))==null?void 0:w.focus()})}function m(){if(e.disabled)return l.goToOption(A.Nothing);l.goToOption(A.Specific,a)}let t=je();function u(r){t.update(r)}function n(r){t.wasMoved(r)&&(e.disabled||g.value||l.goToOption(A.Specific,a,0))}function U(r){t.wasMoved(r)&&(e.disabled||g.value&&(l.optionsPropsRef.value.hold||l.goToOption(A.Nothing)))}return()=>{let{disabled:r}=e,w={active:g.value,selected:o.value,disabled:r},k={id:a,ref:c,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":o.value,disabled:void 0,onClick:p,onFocus:m,onPointerenter:u,onMouseenter:u,onPointermove:n,onMousemove:n,onPointerleave:U,onMouseleave:U};return q({ourProps:k,theirProps:e,slot:w,attrs:d,slots:s,name:"ComboboxOption"})}}});const rt={class:"grid grid-cols-1"},it=["for"],ut={class:"relative mt-1 rounded-md"},st=["type","id"],ee={__name:"ShortAnswer",props:{modelValue:[Number,Object,String,Array],question:Object,type:{default:"text",type:String},isEmail:{default:!1,type:Boolean}},emits:["update:modelValue"],setup(e,{emit:s}){const d=e,b=h({get:()=>d.modelValue,set:l=>s("update:modelValue",l)});return(l,a)=>(S(),R("div",rt,[i("label",{for:"id-"+e.question.id,class:"text-sm font-medium leading-6 text-gray-900 capitalize"},P(e.question.statement),9,it),i("div",ut,[de(i("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>b.value=c),type:e.type,id:"id-"+e.question.id,class:z(["block w-full rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",e.question.error!=null?"ring-red-600 focus:ring-red-600 ":""])},null,10,st),[[_e,b.value]])])]))}},dt=["id","value","name"],ct=["for"],pt={__name:"RadioGroupForm",props:{questionId:String,options:Array,modelValue:{type:[Number,Object,String,Array],default:null}},emits:["update:modelValue"],setup(e,{emit:s}){const d=e,b=h({get:()=>d.modelValue,set:l=>s("update:modelValue",l)});return(l,a)=>(S(!0),R(N,null,ae(e.options,(c,g)=>(S(),R("div",{key:c.title,class:"flex items-center my-2"},[de(i("input",{id:`radio-${g}${e.questionId}`,type:"radio",value:c.id,"onUpdate:modelValue":a[0]||(a[0]=o=>b.value=o),name:`name-${g}${e.questionId}`,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,dt),[[Oe,b.value]]),i("label",{for:`radio-${g}${e.questionId}`,class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},P(c.title),9,ct)]))),128))}},vt={class:"grid grid-cols-4"},pe={__name:"OneSelection",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object},emits:["update:modelValue"],setup(e,{emit:s}){const d=e,b=h({get:()=>d.modelValue,set:l=>s("update:modelValue",l)});return(l,a)=>{var c,g;return S(),R("div",vt,[i("label",{for:"price",class:z(["col-span-4 text-sm font-medium leading-6 text-gray-900 capitalize",(c=e.question.structure)==null?void 0:c.labelGrid])},P(e.question.statement),3),i("div",{class:z(["relative col-span-4 mt-1 rounded-md",(g=e.question.structure)==null?void 0:g.inputGrid])},[C(pt,{questionId:e.question.id,options:e.question.options,modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=o=>b.value=o)},null,8,["questionId","options","modelValue"])],2)])}}},mt={class:"relative mt-1"},ft={class:"block text-sm font-medium leading-6 text-gray-900"},bt={class:"relative w-full cursor-default overflow-hidden sm:text-sm"},gt={key:0,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},H={__name:"HAutoComplete",props:{itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"title"},modelValue:{type:[String,Number,Object],default:null},items:{type:Array,required:!0},label:{type:String},error:{type:Boolean,default:!1},placeholder:{type:String}},emits:["update:modelValue"],setup(e,{emit:s}){const d=e,b=h({get:()=>d.modelValue,set:g=>s("update:modelValue",g)});let l=I(""),a=I(!1),c=h(()=>l.value===""?[]:d.items.filter(g=>g[`${d.itemTitle}`].toLowerCase().replace(/\s+/g,"").includes(l.value.toLowerCase().replace(/\s+/g,""))));return(g,o)=>(S(),Q(B(tt),{modelValue:b.value,"onUpdate:modelValue":o[2]||(o[2]=v=>b.value=v)},{default:M(()=>[i("div",mt,[i("label",ft,P(e.label),1),i("div",bt,[C(B(at),{class:z([e.error&&B(a)&&!b.value?"ring-red-600":"ring-gray-300","w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 ring-1 ring-inset placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 rounded-md"]),displayValue:v=>v==null?void 0:v[`${this.itemTitle}`],onChange:o[0]||(o[0]=v=>{v.target.value==""?Y(a)?a.value=!0:a=!0:Y(a)?a.value=!1:a=!1,Y(l)?l.value=v.target.value:l=v.target.value}),placeholder:e.placeholder},null,8,["class","displayValue","placeholder"]),C(B(lt),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:M(()=>[C(B(Ge),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),C(B(qe),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:o[1]||(o[1]=v=>Y(l)?l.value="":l="")},{default:M(()=>[C(B(ot),{class:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:M(()=>[B(c).length===0&&B(l)!==""?(S(),R("div",gt," Sin datos ")):Z("",!0),(S(!0),R(N,null,ae(B(c),v=>(S(),Q(B(nt),{as:"template",key:v[`${this.itemValue}`],value:v},{default:M(({selected:p,active:m})=>[i("li",{class:z(["relative cursor-default select-none py-2 pl-10 pr-4",{"bg-teal-600 text-white":m,"text-gray-900":!m}])},[i("span",{class:z(["block truncate",{"font-medium":p,"font-normal":!p}])},P(v[`${this.itemTitle}`]),3),p?(S(),R("span",{key:0,class:z(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":m,"text-teal-600":!m}])},[C(B(Qe),{class:"h-5 w-5","aria-hidden":"true"})],2)):Z("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}};class xe{constructor(){X(this,"getDepartamentos",async()=>(await ne.get("http://38.43.133.27/API/lugar/")).data);X(this,"getProvincias",async s=>(await ne.get(`http://38.43.133.27/API/provincias/${s}/`)).data);X(this,"getDistritos",async s=>(await ne.get(`http://38.43.133.27/API/distritos/${s}/`)).data)}}const xt={class:"block text-sm font-medium leading-6 text-gray-900 capitalize"},yt={class:"grid grid-cols-3 gap-x-5"},ht={class:"col-span-3"},Vt={__name:"UbigeoOtherForm",props:{modelValue:[Number,Object,String,Array],question:[Object,Array],error:{type:Boolean,default:!1}},emits:["update:modelValue","clickInput"],setup(e,{emit:s}){const d=e,b=new xe,l=h({get:()=>d.modelValue,set:t=>s("update:modelValue",t)}),a=I([]),c=I([]),g=I([]),o=I({departamento:null,provincia:null,distrito:null}),v=async t=>{o.value.provincia=null,c.value=[],o.value.distrito=null,g.value=[],c.value=await b.getProvincias(t.id),s("update:modelValue",null)},p=async t=>{s("update:modelValue",null),g.value=[],o.value.distrito=null,g.value=await b.getDistritos(t.id)};return(async()=>{a.value=await b.getDepartamentos()})(),(t,u)=>(S(),R(N,null,[i("label",xt,P(e.question.statement),1),i("div",yt,[i("div",null,[C(H,{placeholder:"Departamento",error:e.error,items:a.value,itemTitle:"name",modelValue:o.value.departamento,"onUpdate:modelValue":[u[0]||(u[0]=n=>o.value.departamento=n),v]},null,8,["error","items","modelValue"])]),i("div",null,[C(H,{error:e.error,items:c.value,itemTitle:"name",placeholder:"Provincia",modelValue:o.value.provincia,"onUpdate:modelValue":[u[1]||(u[1]=n=>o.value.provincia=n),p]},null,8,["error","items","modelValue"])]),i("div",null,[C(H,{error:e.error,items:g.value,itemTitle:"name",placeholder:"Distrito",modelValue:o.value.distrito,"onUpdate:modelValue":[u[2]||(u[2]=n=>o.value.distrito=n),u[3]||(u[3]=n=>l.value=n.id)]},null,8,["error","items","modelValue"])]),i("div",ht,[C(ze,{modelValue:e.question.other,"onUpdate:modelValue":u[4]||(u[4]=n=>e.question.other=n),label:"Dirección"},null,8,["modelValue"])])])],64))}},wt={class:"block text-sm font-medium leading-6 text-gray-900 capitalize"},St={class:"grid grid-cols-3 gap-5"},_t={__name:"UbigeoForm",props:{modelValue:[String,Number,Object,Array],question:[Object,Array],error:{type:Boolean,default:!1}},emits:["update:modelValue","clickInput"],setup(e,{emit:s}){const d=e,b=new xe,l=h({get:()=>d.modelValue,set:t=>s("update:modelValue",t)}),a=I([]),c=I([]),g=I([]),o=I({departamento:null,provincia:null,distrito:null}),v=async t=>{o.value.provincia=null,c.value=[],o.value.distrito=null,g.value=[],c.value=await b.getProvincias(t.id),s("update:modelValue",null)},p=async t=>{s("update:modelValue",null),g.value=[],o.value.distrito=null,g.value=await b.getDistritos(t.id)};return(async()=>{a.value=await b.getDepartamentos()})(),(t,u)=>(S(),R(N,null,[i("label",wt,P(e.question.statement),1),i("div",St,[i("div",null,[C(H,{placeholder:"Departamento",error:e.error,items:a.value,itemTitle:"name",modelValue:o.value.departamento,"onUpdate:modelValue":[u[0]||(u[0]=n=>o.value.departamento=n),v]},null,8,["error","items","modelValue"])]),i("div",null,[C(H,{error:e.error,items:c.value,itemTitle:"name",placeholder:"Provincia",modelValue:o.value.provincia,"onUpdate:modelValue":[u[1]||(u[1]=n=>o.value.provincia=n),p]},null,8,["error","items","modelValue"])]),i("div",null,[C(H,{error:e.error,items:g.value,itemTitle:"name",placeholder:"Distrito",modelValue:o.value.distrito,"onUpdate:modelValue":[u[2]||(u[2]=n=>o.value.distrito=n),u[3]||(u[3]=n=>l.value=n.id)]},null,8,["error","items","modelValue"])])])],64))}},Ot={class:"block text-sm font-medium leading-6 text-gray-900"},Rt={class:"relative mt-1 rounded-md shadow-sm"},Ct=["id"],kt={__name:"EmailForm",props:{question:Object,placeholder:String,modelValue:[Number,Object,String,Array]},emits:["update:modelValue","onError"],setup(e,{emit:s}){const d=e,b=h({get:()=>d.modelValue,set:l=>s("update:modelValue",l)});return(l,a)=>(S(),R(N,null,[i("label",Ot,P(e.question.statement),1),i("div",Rt,[de(i("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>b.value=c),type:"email",id:"id-"+e.question.id,class:z(["block w-full rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",e.question.error!=null?"ring-red-600 focus:ring-red-600 ":""])},null,10,Ct),[[Re,b.value]])])],64))}},ve=e=>!(e===""||e===null),It=e=>{let s=/^[0-9]+$/;return!!e.match(s)},$t=e=>{let s=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(s)},Tt={class:"grid grid-cols-2 mt-4 bg-white mx-auto justify-center"},Pt={class:"col-span-2 rounded-lg p-4"},Dt={key:0,class:"mb-4"},Ut={class:"w-full text-end"},At={class:"text-xs text-red-600"},Et={key:1,class:"mb-4"},Bt={class:"w-full text-end"},Ft={class:"text-xs text-red-600"},jt={key:2,class:"mb-4"},Nt={class:"w-full text-end"},Lt={class:"text-xs text-red-600"},Mt={key:3,class:"mb-4"},zt={class:"w-full text-end"},Kt={class:"text-xs text-red-600"},Ht={key:4,class:"mb-4"},Gt={class:"w-full text-end"},Qt={class:"text-xs text-red-600"},Zt={key:5,class:"mb-4"},Jt={class:"w-full text-end"},qt={class:"text-xs text-red-600"},Wt={key:6,class:"mb-4"},Xt={class:"w-full text-end"},Yt={class:"text-xs text-red-600"},el={key:7,class:"mb-4"},tl={class:"w-full text-end"},ll={class:"text-xs text-red-600"},al={key:8,class:"mb-4"},ol={class:"w-full text-end"},nl={class:"text-xs text-red-600"},rl={class:"flex justify-end mt-4"},il={__name:"Form",props:{questions:Array},setup(e){const s=e;me();const d=h(()=>s.questions),b=I(!0),l=p=>{d.value.map(m=>(m.isDependent==p.id&&(console.log(m.optionTrigger," = ",p.answer),m.optionTrigger===p.answer?m.show=!0:m.show=!1),m))},a=(p,m,t=null)=>{let u=!0;u=c(p,m),b.value=u,t&&l(m)},c=(p,m)=>{var t=null;return d.value.map(u=>{u.id==m.id&&(p===null||p===""?(u.error="Obligatorio",t=!1):(delete u.error,t=!0))}),t},g=()=>{b.value=!0,d.value.forEach(p=>{p.answer?delete p.error:(p.error="Obligatorio",b.value=!1)}),b.value&&console.log("Guardando ...")},o=(p,m)=>{d.value.map(t=>{t.id==m.id&&(ve(p)?$t(p)?delete t.error:t.error="Formato no valido":t.error="Obligatorio")})},v=(p,m)=>{d.value.map(t=>{t.id==m.id&&(ve(p)?It(p)?MaxLong(p,9)?delete t.error:t.error="Longitud debe se 9 digitos":t.error="Solo se permite numeros":t.error="Obligatorio")})};return(p,m)=>(S(),R("div",Tt,[i("div",Pt,[(S(!0),R(N,null,ae(d.value,(t,u)=>(S(),R("div",{key:t.id},[i("ul",null,[!t.isDependent||t.show?(S(),R(N,{key:0},[t.type===0?(S(),R("li",Dt,[i("div",null,[C(pe,{question:t,modelValue:t.answer.text,"onUpdate:modelValue":[n=>t.answer.text=n,n=>a(n,t,u)]},null,8,["question","modelValue","onUpdate:modelValue"]),i("div",Ut,[i("span",At,P(t.error),1)])])])):t.type===1?(S(),R("li",Et,[i("div",null,[C(ee,{question:t,modelValue:t.answer.text,"onUpdate:modelValue":[n=>t.answer.text=n,n=>a(t.answer,t)]},null,8,["question","modelValue","onUpdate:modelValue"]),i("div",Bt,[i("span",Ft,P(t.error),1)])])])):t.type===2?(S(),R("li",jt,[C(ee,{type:"date",question:t,modelValue:t.answer.text,"onUpdate:modelValue":[n=>t.answer.text=n,n=>a(t.answer,t)]},null,8,["question","modelValue","onUpdate:modelValue"]),i("div",Nt,[i("span",Lt,P(t.error),1)])])):t.type===3?(S(),R("li",Mt,[C(ee,{type:"number",question:t,modelValue:t.answer.text,"onUpdate:modelValue":[n=>t.answer.text=n,n=>a(t.answer,t)]},null,8,["question","modelValue","onUpdate:modelValue"]),i("div",zt,[i("span",Kt,P(t.error),1)])])):t.type===8?(S(),R("li",Ht,[C(kt,{question:t,modelValue:t.answer.text,"onUpdate:modelValue":[n=>t.answer.text=n,n=>o(n,t)]},null,8,["question","modelValue","onUpdate:modelValue"]),i("div",Gt,[i("span",Qt,P(t.error),1)])])):t.type===9?(S(),R("li",Zt,[C(ee,{type:"text",question:t,modelValue:t.answer.text,"onUpdate:modelValue":[n=>t.answer.text=n,n=>v(t.answer,t)]},null,8,["question","modelValue","onUpdate:modelValue"]),i("div",Jt,[i("span",qt,P(t.error),1)])])):t.type===10?(S(),R("li",Wt,[C(_t,{question:t,modelValue:t.answer,"onUpdate:modelValue":[n=>t.answer=n,n=>a(t.answer,t)],error:!!t.error},null,8,["question","modelValue","onUpdate:modelValue","error"]),i("div",Xt,[i("span",Yt,P(t.error),1)])])):t.type===11?(S(),R("li",el,[C(Vt,{question:t,modelValue:t.answer,"onUpdate:modelValue":[n=>t.answer=n,n=>a(t.answer,t)],error:!!t.error},null,8,["question","modelValue","onUpdate:modelValue","error"]),i("div",tl,[i("span",ll,P(t.error),1)])])):t.type===1e5?(S(),R("li",al,[i("div",null,[C(pe,{question:t,modelValue:t.answer,"onUpdate:modelValue":[n=>t.answer=n,n=>a(t.answer,t)]},null,8,["question","modelValue","onUpdate:modelValue"]),i("div",ol,[i("span",nl,P(t.error),1)])])])):Z("",!0)],64)):Z("",!0)])]))),128)),i("div",rl,[C(fe,{isDisabled:!b.value,onClick:g},{content:M(()=>[Ce(p.$slots,"buttonNext",{},()=>[ue(" Siguiente ")])]),_:3},8,["isDisabled"])])])]))}},ul={class:"grid grid-cols-4 gap-4"},sl=i("div",{class:"col-span-4 rounded-lg bg-blue-100 p-4 text-blue-700 mb-1 text-sm"},[i("strong",null," Indicaciones: "),i("p",null," Estudiantes Universitarios. Lea y responda todos los ítems de manera obligatoria, verídica y detallada. "),i("p",null," Los datos consignados son confidenciales (Según ley de protección de datos personales). ")],-1),dl={class:"col-span-4 md:col-span-1"},cl={class:"col-span-4 md:col-span-3 rounded-lg bg-white p-4 shadow-lg"},pl={class:""},vl={class:"text-lg font-semibold mb-3 uppercase"},ml={key:0,class:"text-center text-lg uppercase font-extrabold text-gray-400 align-items-center"},Ol={__name:"survey",setup(e){const s=new $e,d=me(),b=ke(),l=h(()=>d.sections),a=h(()=>[...d.questions]),c=h(()=>d.currentSurvey),g=h(()=>d.currentTopic),o=m=>{d.topics.map(t=>{t.id===d.currentTopic.id&&t.sections.map(async u=>{if(u.id==m)if(u.questions)d.questions=u.questions;else{let U=await s.getQuestions(u.id);U.sort((r,w)=>r.ordinal-w.ordinal),u.questions=U,d.questions=U}})})},v=async()=>{await d.setCurrentSurvey(b.params.id)};return(async()=>{await v()})(),(m,t)=>(S(),Q(Ie,null,{"header.title":M(()=>{var u;return[ue(P((u=c.value)==null?void 0:u.title),1)]}),"header.subtitle":M(()=>{var u;return[ue(P((u=c.value)==null?void 0:u.subtitle),1)]}),default:M(()=>{var u;return[i("div",ul,[sl,i("div",dl,[C(Te)]),i("div",cl,[i("div",pl,[i("h3",vl,P(g.value.title),1)]),l.value.length==0?(S(),R("h4",ml," no hay secciones ")):(S(),R(N,{key:1},[((u=a.value)==null?void 0:u.length)>0?(S(),Q(il,{key:0,questions:a.value},null,8,["questions"])):Z("",!0),(S(!0),R(N,null,ae(l.value,n=>(S(),Q(fe,{key:n.id,title:n.title,onClick:U=>o(n.id),class:"me-3 mb-3"},null,8,["title","onClick"]))),128))],64))])])]}),_:1}))}};export{Ol as default};
